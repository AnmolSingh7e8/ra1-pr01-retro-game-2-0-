<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="KIND_SpriteKind" id="bpN}{$]@tI(ys5w8nMru">Player</variable><variable type="KIND_SpriteKind" id="4m-c})MhI;Jv:$imEG;}">Projectile</variable><variable type="KIND_SpriteKind" id="+hYd2qTSMO1HmY@(Ik[4">Food</variable><variable type="KIND_SpriteKind" id=",_^Qu*56{*BEa2rXRPN#">Enemy</variable><variable type="KIND_SpriteKind" id="j+~lF,7`:l.@xD[Ai#Or">StatusBar</variable><variable type="KIND_StatusBarKind" id="t:n,}M59S^qJj/x(lkX7">Health</variable><variable type="KIND_StatusBarKind" id="B1wQjsIC(bzSLN]=5kKJ">Energy</variable><variable type="KIND_StatusBarKind" id="6I2d64OtzDY%a~$xEus[">Magic</variable><variable type="KIND_StatusBarKind" id="[`cc6)6OR_OJxG:IR$Q,">EnemyHealth</variable><variable id="[bx_{KvlSPCX-#@LeK!%">proyectil2</variable><variable id="`C@e;jK-?f=~JmA}9=]*">barra_enemigo</variable><variable id="YvB*V4z!u~ri|ys;l?i1">enemigo2</variable><variable id="AyJP2=,eTaF?9DZ21$jR">tiene_escudo</variable><variable id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</variable><variable id="MiIx+utwR{QzD@rIMNVT">personaje</variable><variable id="cX(;A4k|wrz3$+55Ww3L">bala_mala</variable><variable id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</variable><variable id="[nCJiXJ2k_M73wHL)x*2">ubicacion</variable><variable id="SSG*08,dBtOfzVb#,VM!">col</variable><variable id=")SJ;$/|aO1s)g:md)P~t">fila</variable><variable id="Ur$wI#JTsq1gH!dL^}eW">techo</variable><variable id="ql2M3iHbnYh,y4FTZoFN">suelo</variable><variable id="`y+pivcpM?aCDaR8Cfc?">izq</variable><variable id="kK,L$GRd~7EUi{}q9,@}">der</variable><variable id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</variable><variable id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</variable><variable id="kJGj;bT5KBV#u{y8w!9!">municion_actual</variable><variable id="2umOs!g%B22COd4CH2*b">npc1</variable><variable id="Xxhr*R7@Co3fq(lY=g51">npc2</variable><variable id="HxU#T=+XazrfpIpB9u+e">npc3</variable><variable id=";y{3=W[s.+kpsfUNZ8.o">npc4</variable><variable id="m]APoE.UOQT|Y08`StvL">npc5</variable><variable id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</variable><variable id="*C0;S#eKtx1y{H.SZ,y#">cursor</variable><variable id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</variable><variable id="tkw@xhTP71oX33vH)Rj/">en_bus</variable><variable id="_moz7ut;^Jq*}+Q$u#p[">autobus2</variable><variable id="aSE:sm!Yo_nOlBkg9MnL">fire_rate_boost</variable><variable id="U3;D/cb0F6:|2|~l4dZ]">tipo</variable><variable id="nndxs(WTNf)x!C*I.)n(">enemigo_muerto</variable><variable id="HD%r,~dc[_%0lH%{yb*f">kills</variable><variable id="=IKPJJ(^6iY)jU~%jC`W">npcs_vivos</variable><variable id="Xg)zPjVx}-xg#auFcH-P">i</variable><variable id="EqULFTyuY~J^I%ZL87sw">enemigo</variable><variable id="n7K;6{JDHzuy#X$#:{~m">img_enemigo1</variable><variable id="dS.OxN]pGf@-flZ-3/Jn">barra</variable><variable id="%$2Bw58%;A:*BR-SE[9z">lista_npcs</variable><variable id="fGX?uI:ngImd4J$]Ft1C">img_enemigo2</variable><variable id="-O2}3R3]lK^l4mtq_kzF">img_enemigo3</variable><variable id="2.j(Idauyj-(V^}W73wc">vida_jugador</variable><variable id="orMAaf:B`rcpE/pAKGse">imagen_hitbox</variable><variable id="XD#tb0`dZAU9tLj8|6W?">x_inicio</variable><variable id="r~ZwTQ)9jPOUl+jC=_e^">velocidad_x</variable><variable id="rR3$}avgy0yO;W:17TjI">y_inicio</variable><variable id="@J]qxd63=K-O1)iyb9;W">MAP_SIZE2</variable><variable id="Q9.LZ^mHt@sX6K.Et--h">moviendo</variable><variable id="zab+[m@PursA+p(_G;.l">enemigo_actual</variable><variable id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</variable><variable id="$bO#tsZ94noh2gw@w`RZ">vida_bala</variable><variable id="4eh~rTn/tm{b]x0ex;0l">img_bala</variable><variable id="u=6,xK(bzP:8HXi}{_;p">bala</variable><variable id="R+*Y4LI-7pv).(ET~8(|">dx</variable><variable id="*amC-6}yf@G*S|895!.J">dy</variable><variable id="1:N{SMj$?Q1AbE$T$_9e">angulo</variable><variable id="zDPT@lKf[MWr%bDOQ1bi">vx</variable><variable id="WKxxqv@M@Rk;:6K}(VBP">vy</variable><variable id="#9X}~Qmb(.vuaxaJ4sbP">MAP_SIZE</variable><variable id="p[=l84e(^7xYf`g,0nnN">npc_healer</variable><variable id="Z/I8ka-(O;M%p+DF~60F">npc_runner</variable><variable id="V^/kO6E=;5$pcnL1:s02">npc_ammo</variable><variable id="}fWEQeuYZK[C^;EnimnI">npc_shield</variable><variable id="9-_r%*@b3s,PJvWJsvN~">npc_fire</variable></variables><comment id="l,YB@xR;/9$p#No!%iVL" x="6965.296875" y="4170" w="440" h="120">
--- INICIALIZACIÓN DE VARIABLES GLOBALES ---
</comment><comment id="y+fkS!1U3+rm*-[+Ck16" x="20" y="6335" w="480" h="120">
Definición de estados iniciales, banderas (flags) y
</comment><comment id="d(_uq*-R^xO;EiEQ~|jm" x="545" y="6335" w="460" h="120">
variables de control para la lógica del juego.
</comment><block type="pxt-on-start" id="Rof:T6!@9N0l_U:1JC/t" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="I%UuWk={2spcK2c%!:Xt"><field name="VAR" id="#9X}~Qmb(.vuaxaJ4sbP">MAP_SIZE</field><value name="VALUE"><shadow type="math_number" id="LRW}{TbJ0myLABUpJ?AC"><field name="NUM">0</field></shadow></value><next><block type="typescript_statement" id="q}o4Qnr|Q*I$PE2joY9?"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace SpriteKind {" line1="    //  Definición de identificadores para gestionar colisiones entre diferentes tipos de entidades" line2="    export const BalaEnemiga = SpriteKind.create()" line3="    export const Autobus = SpriteKind.create()" line4="    export const Cursor = SpriteKind.create()" line5="    export const Boton = SpriteKind.create()" line6="    export const NPC1 = SpriteKind.create()" line7="    export const NPC2 = SpriteKind.create()" line8="    export const NPC3 = SpriteKind.create()" line9="    export const NPC4 = SpriteKind.create()" line10="    export const NPC5 = SpriteKind.create()" line11="}" numlines="12"></mutation><next><block type="typescript_statement" id="*`dF}9FUP1rF!eOaH(2$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC1, activar_npc)" numlines="1"></mutation><next><block type="typescript_statement" id="dXE#6Vlzx;nOjVJc?/vx"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC2, activar_npc)" numlines="1"></mutation><next><block type="typescript_statement" id="V)a$T;IEA1i8z._Sb1h("><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC3, activar_npc)" numlines="1"></mutation><next><block type="typescript_statement" id="b,EaE-yiYgNmgsaoG#2f"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC4, activar_npc)" numlines="1"></mutation><next><block type="typescript_statement" id="B2V[d9FWp1_bqzrCyil:"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.NPC5, activar_npc)" numlines="1"></mutation><next><block type="variables_set" id="0PZ_@XbVK:4qpDG)O*GP"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field><value name="VALUE"><shadow type="math_number" id="5P6u_SFm,4Wz/!JUg$v8"><field name="NUM">0</field></shadow><block type="logic_boolean" id="05znuJ$-rU7[4a?[tIF,"><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="c#xNXkIK(a{R3#-@?s(c"><field name="VAR" id="n7K;6{JDHzuy#X$#:{~m">img_enemigo1</field><value name="VALUE"><shadow type="math_number" id="Ai``4@aPe1wZ~=ooD-M!"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="wX1I/Fy;IZQH}OACX.n0"><field name="img">assets.image`enemigo1`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image17"}}</data></block></value><next><block type="variables_set" id="6Pl@$st[~2Ime,c+5H;z"><field name="VAR" id="fGX?uI:ngImd4J$]Ft1C">img_enemigo2</field><value name="VALUE"><shadow type="math_number" id="Cn9jD}DjG8wZEuK@/7[_"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="wGtH*nPf}9-5Zy%3wY[{"><field name="img">assets.image`enemigo2`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image6"}}</data></block></value><next><block type="variables_set" id="$2kV(L}Q.-Q~%x6):*y3"><field name="VAR" id="-O2}3R3]lK^l4mtq_kzF">img_enemigo3</field><value name="VALUE"><shadow type="math_number" id="Lxv~0iFz+=tSNGJ`;J(!"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="^TjR@(Gz5f=N8AwK4b)H"><field name="img">assets.image`enemigo3`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image18"}}</data></block></value><next><block type="variables_set" id="p)=Z^/WO4H90K`%{LgpA"><field name="VAR" id="p[=l84e(^7xYf`g,0nnN">npc_healer</field><value name="VALUE"><shadow type="math_number" id="8yCJxXQk=-VZy_cKKQ|["><field name="NUM">0</field></shadow><block type="screen_image_picker" id="9G=C]h3maL3YFj8ZiFrP"><field name="img">assets.image`npc_healer`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image21"}}</data></block></value><next><block type="variables_set" id="MM3_#W5tao.1XF(4;{OD"><field name="VAR" id="Z/I8ka-(O;M%p+DF~60F">npc_runner</field><value name="VALUE"><shadow type="math_number" id="4lR~*WZiH|7=2RU`Y}Cn"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="}.VyT=@q6p6UVF]?6/F1"><field name="img">assets.image`npc_runner`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image20"}}</data></block></value><next><block type="variables_set" id="v=(P$yZ]tSlpZer[jPm!"><field name="VAR" id="V^/kO6E=;5$pcnL1:s02">npc_ammo</field><value name="VALUE"><shadow type="math_number" id=")~*nB3s4j6A9CsaA{%fe"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="Z8$fRLf[6P@m6(ZjiEwn"><field name="img">assets.image`npc_ammo`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image16"}}</data></block></value><next><block type="variables_set" id="-eHaEp@V~%McE{DmZFLn"><field name="VAR" id="}fWEQeuYZK[C^;EnimnI">npc_shield</field><value name="VALUE"><shadow type="math_number" id="*D7A]0|-b8sY$Ky)N^+)"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="aCTv@m*`t(_dyCK#gXdy"><field name="img">assets.image`npc_shield`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image22"}}</data></block></value><next><block type="variables_set" id="6wKm2[AFPa]TwNxszs)r"><field name="VAR" id="9-_r%*@b3s,PJvWJsvN~">npc_fire</field><value name="VALUE"><shadow type="math_number" id="GLpw7c_%q{p^:~EK:0Tv"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="g6Jq1U(+b4$kv|WZi]fX"><field name="img">assets.image`npc_fire`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image19"}}</data></block></value><next><block type="variables_set" id="uBIGfzr+{H{^-p/=Sk%I"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field><value name="VALUE"><shadow type="math_number" id="@c88Se{6TDH=|/pxV!dw"><field name="NUM">0</field></shadow><block type="text" id="XwgF77hZB5FT0bi/uJ72"><field name="TEXT">derecha</field></block></value><next><block type="function_call" id="KW5:,m3Z409=BbbN~Ma0"><mutation name="mostrar_menu" functionid="n8.jI[#SH3R?Yi9@QfAF"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameinterval" id="cYHI-1yy2pvzjldp]E6o" x="1048" y="20"><value name="period"><shadow type="timePicker" id="9cwR`o|[.SXHqoo`|U+x"><field name="ms">1000</field></shadow></value><statement name="HANDLER"><block type="typescript_statement" id="3eD)`|e}%~)r1%!Q{Twu"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let img_bala: Image;" numlines="1" declaredvars="img_bala"></mutation><next><block type="typescript_statement" id="J@CW#]0rB[XI^{?o1MFp"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let velocidad_bala: number;" numlines="1" declaredvars="velocidad_bala"></mutation><next><block type="typescript_statement" id=";(gT=#MFQu|kv^{e~xgb"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let vida_bala: number;" numlines="1" declaredvars="vida_bala"></mutation><next><block type="typescript_statement" id="9tE-3Q`]rW.AhDo0Y[aE"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let bala: Sprite;" numlines="1" declaredvars="bala"></mutation><next><block type="typescript_statement" id="+Wx14+vk_V`OBB^KGMos"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let dx: number;" numlines="1" declaredvars="dx"></mutation><next><block type="typescript_statement" id="hPc`#EMJt`{+HZvGJi5B"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let dy: number;" numlines="1" declaredvars="dy"></mutation><next><block type="typescript_statement" id=":x:2@`C@#.OR@IIPk7KW"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let angulo: number;" numlines="1" declaredvars="angulo"></mutation><next><block type="typescript_statement" id="=Y?;k4(-UhDH/9Vd08(9"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let vx: number;" numlines="1" declaredvars="vx"></mutation><next><block type="typescript_statement" id="YygzIAd8TgX%s#3x`}B."><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let vy: number;" numlines="1" declaredvars="vy"></mutation><next><block type="controls_if" id="sS-QHj_roL2[J#4lYCW1"><comment pinned="false" h="80" w="160">Inteligencia Artificial de enemigos.
Calcula la trayectoria de disparo hacia el jugador usando trigonometría (atan2)
y asigna proyectiles diferentes según el tipo de enemigo.</comment><value name="IF0"><shadow type="logic_boolean" id="dn|-ZGk1?YiT8K_kv$5]"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="qX#6kK7iv)Jh9wybxyw["><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="|uH?Oemx~G]:g^rE9jh."><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="WawD7]eEr5fkA~_*T%NM"><value name="BOOL"><shadow type="logic_boolean" id="DKlx-|imT(kN#-Fkvcr;"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id=";`sW:SrxPIaSCYAA-}Bz"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="BBR|`0s,VodF8^a8Xp*/"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="44P5xYbP7epV+|hpWIdM"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="$rOzm/Rx9])C~X?G5UBW"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="pxt_controls_for_of" id="fb0rtw%TFq%!!j#1qBF]"><value name="VAR"><block type="variables_get_reporter" id="Sy[M_v{qPnH7+K)`j_P8"><mutation duplicateondrag="true"></mutation><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value><value name="LIST"><block type="allOfKind" id="Jk6AAAO8MuXFzg?9)a}-"><value name="kind"><shadow type="spritekind" id="FLB}|bUgUAU@pV|$X}R("><field name="MEMBER">Enemy</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="%uu6hg.ch?sKmlZ}eoBa"><value name="IF0"><shadow type="logic_boolean" id="X_`R[tzh.8y3]%]N{`ve"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id=",#MwHM5l832B1xq:ShfS"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="9Jc`yC93Vk5#4zq5O*E$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="O9qxBI(ATAWBUP_ZgL6("><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="MDn}qpuMBlXli*]O{FZm"><field name="NUM">0</field></shadow><block type="variables_get" id="AcQZSGAfbXs.B0J;OKo3"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value><value name="B"><shadow type="math_number" id="OQ`[XcF),#nb_.E$51s4"><field name="NUM">0</field></shadow><block type="typescript_expression" id="pl17wZdaC{p9ZUiZgTAi"><field name="EXPRESSION">null</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="%Abpn`6JQU.RU)Ul^l[I"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="4PJ-y];yJf^};{}28F#b"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="_!g$}O6w3P7k?7VSeF1W"><field name="NUM">0</field></shadow><block type="spriteimage" id="Q1B}VZLUFrK3=(i~!3V{"><value name="sprite"><block type="variables_get" id="Xr^`g_7G~]IN..uWQO2Z"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value><value name="B"><shadow type="math_number" id="6m#7V~9D|HjtP/skaLwi"><field name="NUM">0</field></shadow><block type="typescript_expression" id="-c~m%u:~4~3uGcR5!~2o"><field name="EXPRESSION">null</field></block></value></block></value></block></value><statement name="DO0"><block type="continue_keyword" id="(Vv)dD8wVzGnO25}}(~U"></block></statement><next><block type="controls_if" id="f+*$J[:XM[};V#v89(oD"><value name="IF0"><shadow type="logic_boolean" id="pgS[}?P$.S?dj#4^.4Y;"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="}/A7Oef9vyLHj)jCU{c@"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="CK03YXWl8aykaI(_P106"><field name="NUM">0</field></shadow><block type="device_random" id="bBm:(jRw;UQGZR~3OP3j"><value name="min"><shadow type="math_number" id="[2|Qv(Em]1.zLdRjh=8@"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="CjImZkvgr3ps^u9.DWCg"><field name="NUM">100</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="hB*+]kEobbPBO:AjKNN-"><field name="NUM">50</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="pzuVI!Di]T8)Y$NKG|dK"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="img_bala = null" numlines="1"></mutation><next><block type="variables_set" id="=#|v__XX-G~/|9%-aXo1"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field><value name="VALUE"><shadow type="math_number" id="vAqG@/mqT~~{|jt/UwF~"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="7YE4}djapCQOzwM?c4S?"><field name="VAR" id="$bO#tsZ94noh2gw@w`RZ">vida_bala</field><value name="VALUE"><shadow type="math_number" id="Di#/`jg7G}-:BmHY1L}+"><field name="NUM">0</field></shadow></value><next><block type="controls_if" id="6@u(Bq~4MG6].KpqtNte"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean" id="CZ4u|mxH`~gM%f%!S3QW"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="fQeF{]Xpx-6oR!g8|eBh"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="+-ZLY5ZKUtf%$GL68K9V"><field name="NUM">0</field></shadow><block type="spriteimage" id="Q~;UGeI+827J2CJvOct)"><value name="sprite"><block type="variables_get" id="GWVsuok19~(UFGOF2+w*"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value><value name="B"><shadow type="math_number" id="{er0MCowQr14e(Su5sac"><field name="NUM">0</field></shadow><block type="variables_get" id="?eAS2~ATfq=+Wvl]^(WK"><field name="VAR" id="n7K;6{JDHzuy#X$#:{~m">img_enemigo1</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="8)U2!1z:Bu*YI6Xw_$t("><field name="VAR" id="4eh~rTn/tm{b]x0ex;0l">img_bala</field><value name="VALUE"><shadow type="math_number" id=".e`%C`/t7WyG;8H^mO!h"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="X-voVeN`Hlt[3?IA4yRR"><field name="img">assets.image`disparo1`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></block></value><next><block type="variables_set" id="E7VESd%`HL`{9!e[gLBP"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field><value name="VALUE"><shadow type="math_number" id="Z-v}#eyAqnL4lE#KHr4("><field name="NUM">60</field></shadow></value><next><block type="variables_set" id="EP!!Jp%N#xkPbbYJZDsd"><field name="VAR" id="$bO#tsZ94noh2gw@w`RZ">vida_bala</field><value name="VALUE"><shadow type="math_number" id="7)G!qSzm}QO9be%2^M:D"><field name="NUM">600</field></shadow></value></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="fh;suYH$53b05gC1X!QS"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="wWnUH?CI7q?~m}kbmM;z"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="rBYNGqFSHhL@CUSE0jB)"><field name="NUM">0</field></shadow><block type="spriteimage" id="Mmu(#nPXl|e7hnngU{ZP"><value name="sprite"><block type="variables_get" id="PMvThtedyC[tyT`Jbkb)"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value><value name="B"><shadow type="math_number" id="^$?M,0^PWsw*IlC8t,xs"><field name="NUM">0</field></shadow><block type="variables_get" id="KIg|$`0Q0OZYi$%`[O^u"><field name="VAR" id="fGX?uI:ngImd4J$]Ft1C">img_enemigo2</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="8?.l.~,;)bLc+s1CkR/x"><field name="VAR" id="4eh~rTn/tm{b]x0ex;0l">img_bala</field><value name="VALUE"><shadow type="math_number" id="cgT-[B^vx+^M2`4AM*bP"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="NG.6oX[N`@{;zh4Ly)mG"><field name="img">assets.image`disparo2`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image25"}}</data></block></value><next><block type="variables_set" id="kge4_+-y/5_e*q4f.}MN"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field><value name="VALUE"><shadow type="math_number" id="hj;C8MQ{)-}eP)s^I!!j"><field name="NUM">180</field></shadow></value><next><block type="variables_set" id="/`XSQ7(Ni+5qZp#$;J]:"><field name="VAR" id="$bO#tsZ94noh2gw@w`RZ">vida_bala</field><value name="VALUE"><shadow type="math_number" id="6u%]5:#}1d4e$Q_.HM|}"><field name="NUM">3000</field></shadow></value></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="imqUXNPgZvblzA.1mIvR"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="yO:%:?p*J^*8{?dKDNZw"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id=".X5cNtG1KeW`z^6=A`tW"><field name="NUM">0</field></shadow><block type="spriteimage" id="m+L^9p{Tqhf]c0o^Eb4M"><value name="sprite"><block type="variables_get" id="xd?Pt`:WP@BoqI[0EDu("><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value><value name="B"><shadow type="math_number" id="{BLP/8hl5x.z8xytvdP."><field name="NUM">0</field></shadow><block type="variables_get" id="r,Y8:1O;^mJL}dvD:|js"><field name="VAR" id="-O2}3R3]lK^l4mtq_kzF">img_enemigo3</field></block></value></block></value><statement name="DO2"><block type="variables_set" id="T@3gq_35=xN0.)*67|J0"><field name="VAR" id="4eh~rTn/tm{b]x0ex;0l">img_bala</field><value name="VALUE"><shadow type="math_number" id="^pNk9f]wr)9{DZwRQ~H`"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="u6|7hL-J!9hAqY]KM`z*"><field name="img">assets.image`disparo3`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image23"}}</data></block></value><next><block type="variables_set" id="/YDUwEz0K74A.*P`GL`+"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field><value name="VALUE"><shadow type="math_number" id="Mj5.f7mF919JvaIW1y)J"><field name="NUM">100</field></shadow></value><next><block type="variables_set" id="GR!84T]m1WlG(5^CxD[T"><field name="VAR" id="$bO#tsZ94noh2gw@w`RZ">vida_bala</field><value name="VALUE"><shadow type="math_number" id="Q*?MpjD4:Vfd#sFFz.9C"><field name="NUM">1500</field></shadow></value></block></next></block></next></block></statement><next><block type="controls_if" id="$ulVyz.now;wMBt%IvBs"><value name="IF0"><shadow type="logic_boolean" id="9|tFMwqn37k/O:O8`/[-"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="yu0SCamQe_J,quJ)XRlm"><field name="OP">NEQ</field><value name="A"><shadow type="math_number" id="CfN-dm2LIH~gs(1_Zz(1"><field name="NUM">0</field></shadow><block type="variables_get" id="vbI^a|3$XXU#Vm%?8LDo"><field name="VAR" id="4eh~rTn/tm{b]x0ex;0l">img_bala</field></block></value><value name="B"><shadow type="math_number" id=";/kO4f4~In3GP7E5w*:,"><field name="NUM">0</field></shadow><block type="typescript_expression" id="k%)I^?uU.4p,QWK;Q%]k"><field name="EXPRESSION">null</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="X_@`ca@]c3Ph2x{:zbWn"><field name="VAR" id="u=6,xK(bzP:8HXi}{_;p">bala</field><value name="VALUE"><shadow type="math_number" id="5@_kQL}1@37$ep2AR!t@"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="6mWt_:*(k)7x5Y_Ko5zL"><value name="img"><shadow type="screen_image_picker" id="nJUIaX}k+K/Y`$^x?PC/"><field name="img"></field></shadow><block type="variables_get" id="K!`$H_mXA7OwYm-k1bjG"><field name="VAR" id="4eh~rTn/tm{b]x0ex;0l">img_bala</field></block></value><value name="sprite"><block type="variables_get" id="pO{lKiFF4Hy9#|(_SP.9"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="oCf4odSOJ#E2_51nk:Qg"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="5}TDC{vnW@fC*VJeKYaF"><field name="speed">0</field></shadow></value></block></value><next><block type="spritesetkind" id="1H/PNi5tX*RuXBLnivqS"><value name="sprite"><block type="variables_get" id="8VeL8IFy$[*5$~0b8FPU"><field name="VAR" id="u=6,xK(bzP:8HXi}{_;p">bala</field></block></value><value name="kind"><shadow type="spritekind" id="?jh-}1,LQve/]3LEil0Y"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="C-lG+h8qP{Ji=sy[rD`i"><field name="EXPRESSION">SpriteKind.BalaEnemiga</field></block></value><next><block type="variables_set" id="#fe9I9Bjh9U{onG+#]_."><field name="VAR" id="R+*Y4LI-7pv).(ET~8(|">dx</field><value name="VALUE"><shadow type="math_number" id="(eDJ%`B^P8os}9@JLUju"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="}Jsi-79dw2#A?$u0=iY/"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="WY$e@@?ZPK?kh;y~BLq-"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="Hpp5](SRr,ylz4jAa,g,"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="~Sc@U/e|l0Ri~)S=a}+?"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value></block></value><value name="B"><shadow type="math_number" id="BH*pSBCIR_T{,{YINt%b"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="B0rk)DdH?!v2U!y@oQfB"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="Ezd[Z^b6n[pYrjQVeK~8"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value></block></value><next><block type="variables_set" id="X}mID8tcTCQreLQI$w%F"><field name="VAR" id="*amC-6}yf@G*S|895!.J">dy</field><value name="VALUE"><shadow type="math_number" id="{2Id2U_q^.;4{V4{a;)n"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="2lg7*]ww@}$OBTH5GAe,"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="b3-e:?Y|};T3?i0bpvI2"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="6b#9]MhxOcue@QW.=DQY"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="C%l*Rm5f~~[,:H#6DC8)"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value></block></value><value name="B"><shadow type="math_number" id="QpU8I}sVlo,2%T$hUdf0"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="IBau`]d.1}ZE8:%gQo35"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="k=.Pmlf]i,!rjZ)W=R?-"><field name="VAR" id="zab+[m@PursA+p(_G;.l">enemigo_actual</field></block></value></block></value></block></value><next><block type="variables_set" id="z-NQ~}|;NFit^XR4AI?d"><field name="VAR" id="1:N{SMj$?Q1AbE$T$_9e">angulo</field><value name="VALUE"><shadow type="math_number" id="lbeug/wW^~yRr:Xm$b%5"><field name="NUM">0</field></shadow><block type="math_js_op" id="xS9h:SX5%uN76z~PW:Nl"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="binary"></mutation><field name="OP">atan2</field><value name="ARG0"><shadow type="math_number" id="V]%j1jAj{4Ugd52a9dKG"><field name="NUM">0</field></shadow><block type="variables_get" id="$UPiEg[,+L;awK%M28|_"><field name="VAR" id="*amC-6}yf@G*S|895!.J">dy</field></block></value><value name="ARG1"><shadow type="math_number" id="q`#(}$lfvWZ;jbJ_V$[="><field name="NUM">0</field></shadow><block type="variables_get" id="w/yZRlDA-J}^RL#ZJunG"><field name="VAR" id="R+*Y4LI-7pv).(ET~8(|">dx</field></block></value></block></value><next><block type="variables_set" id="`LYIcxheUGkO+H7^n^ho"><field name="VAR" id="zDPT@lKf[MWr%bDOQ1bi">vx</field><value name="VALUE"><shadow type="math_number" id="BH)siX6/m~,CFp^mOp6x"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="tAmEXR$y?dD?T3?eoV(x"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="X*1QzQfMWj0ZM#Z8(rfT"><field name="NUM">0</field></shadow><block type="math_js_op" id="vO66E0;!e_HL7Wt.]{y,"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="unary"></mutation><field name="OP">cos</field><value name="ARG0"><shadow type="math_number" id="v3U]uX2X.WoeF+S(4Y,5"><field name="NUM">0</field></shadow><block type="variables_get" id="LV6yV25*#FMW=Fk?YiEF"><field name="VAR" id="1:N{SMj$?Q1AbE$T$_9e">angulo</field></block></value></block></value><value name="B"><shadow type="math_number" id="4y%Al8^i5ljP3v43]Ov4"><field name="NUM">0</field></shadow><block type="variables_get" id="bzNq#0KqfPy^nHvzaXDq"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field></block></value></block></value><next><block type="variables_set" id="@-R/Fz_Ejf!cH:wm;}CI"><field name="VAR" id="WKxxqv@M@Rk;:6K}(VBP">vy</field><value name="VALUE"><shadow type="math_number" id="D;rJ[/rzjXT=[``G_[69"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]ZCRKzAmIZoZ4q:AG1XW"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="iMf]]kbpEWx2_!*7rNaz"><field name="NUM">0</field></shadow><block type="math_js_op" id="6z5zl`.mt=Za0{Ay]/-]"><mutation xmlns="http://www.w3.org/1999/xhtml" op-type="unary"></mutation><field name="OP">sin</field><value name="ARG0"><shadow type="math_number" id="qT~$@{D^~?L)dN-=@ZBS"><field name="NUM">0</field></shadow><block type="variables_get" id="G,P.%Vs.Z7CH#WsmY.{`"><field name="VAR" id="1:N{SMj$?Q1AbE$T$_9e">angulo</field></block></value></block></value><value name="B"><shadow type="math_number" id="#WLRcaG9kN!(%p85,xh."><field name="NUM">0</field></shadow><block type="variables_get" id="3S:MD}}lyn^VH$Q1=yar"><field name="VAR" id="g|b$-QR;KS=Zhz.w9M1R">velocidad_bala</field></block></value></block></value><next><block type="spritesetvel" id="P3@a!8Z6^pKXC/~f=U1O"><value name="sprite"><block type="variables_get" id="Cf-QG`VFEZo$:u6JuPFf"><field name="VAR" id="u=6,xK(bzP:8HXi}{_;p">bala</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="cjY_zXmU=Z]~m/qV2}]s"><field name="speed">50</field></shadow><block type="variables_get" id="`(AVj?8y^On^:{1tam`!"><field name="VAR" id="zDPT@lKf[MWr%bDOQ1bi">vx</field></block></value><value name="vy"><shadow type="spriteSpeedPicker" id="LD}N[zqjGsusGs9NK@,6"><field name="speed">50</field></shadow><block type="variables_get" id="vH*y#^LdkzaiHSnO=OCd"><field name="VAR" id="WKxxqv@M@Rk;:6K}(VBP">vy</field></block></value><next><block type="Sprite_blockCombine_set" id=":0Pvp%.rtYl-Mb2yB9.A"><field name="property">Sprite.lifespan</field><value name="mySprite"><block type="variables_get" id="5Z86nt/=*udmIkEJt1xg"><field name="VAR" id="u=6,xK(bzP:8HXi}{_;p">bala</field></block></value><value name="value"><block type="variables_get" id="6+l98h@`gcqx;j8$n.IL"><field name="VAR" id="$bO#tsZ94noh2gw@w`RZ">vida_bala</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameupdate" id="jLILNG2uw,E3G5`*:|Nj" x="2206" y="20"><statement name="HANDLER"><block type="controls_if" id="t0`DMKIX0O8F(gu3ZT^8"><comment pinned="false" h="80" w="160">Comprobación continua: Si el autobús sale del mapa, fuerza el respawn</comment><value name="IF0"><shadow type="logic_boolean" id="C/5?dF4.PvQ0BF%=l@2,"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="T/V$*F%4R5eAMk~8E~~3"><value name="BOOL"><shadow type="logic_boolean" id="dF(:Au@n2S,6f63a0q;S"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="rZ$f}-jm#k:s_2Sa}XXS"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="|n([6CDLE1KGQm=Au{3Q"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="controls_if" id="8~r1h6Tk$pNePpd$#;Y@"><value name="IF0"><shadow type="logic_boolean" id="C~,!noU6Os2/a(y:+yqa"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="MAb1r.Ei?0xOP2JVQAVx"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field></block></value><statement name="DO0"><block type="spritesetpos" id="ef`r5!$!}Mv9RW$Z[XeW"><value name="sprite"><block type="variables_get" id="I^/%=RB5dmC~-JuYSE,K"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="x"><shadow type="positionPicker" id="C#cj^)sS$2uVv{MT9Q`?"><field name="index">0</field></shadow><block type="Sprite_blockCombine_get" id="dIP^=6cxlD2oA*1jNZ`D"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id=".j6cZNjY[k2mc04KjYOE"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="y"><shadow type="positionPicker" id="L~9=n$auWw6-P*fhqg3S"><field name="index">0</field></shadow><block type="Sprite_blockCombine_get" id="B-l_z|Hn,$I|6pV)2v.G"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id=")nb(NUv.?G7*5dqzl/9N"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><next><block type="controls_if" id="[l2iwwnmQr0UH3n:8^yV"><value name="IF0"><shadow type="logic_boolean" id=";?1}+tTN7tv]XbO7DZ6_"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="gY{@qCtTF_{oe8*#~t?M"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="k_WTgDIa9UR/L_5g:NDt"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="vIX@/nn?;yaTii;{`0s:"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="E%yraDS4}B_u+`]`dZaW"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="1x%Ir-W;p,F@K-}3V@f."><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="wT*gEqA^[:6N-):goQP/"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="jZK!Nbu+Z~_u%24]yZLn"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="WJ9b;9]tM2Z5,x/t.0/A"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="yqCfM6erU=Sth8a?r7Cd"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="o@X}3O^Fb}4gVi-#liXT"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="?f?1WX8x[k;enOjT`j**"><field name="NUM">114</field></shadow></value><value name="B"><shadow type="math_number" id="u3G(}l(kC!q(Y{?uC~!L"><field name="NUM">16</field></shadow></value></block></value><value name="B"><shadow type="math_number" id=".O|e+Lbr3vnSHyFpn2|("><field name="NUM">40</field></shadow></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="mNCsZ~z~-j_z(pU{)7s("><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="V;=Wy^tmY)Bobn?h[GG7"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="kxA}#,kCht3/5Tr-lTtK"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="I6P^@~_?I~GQ070PWSOU"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="M9%_(!*S3D~zR$PS.e|F"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="/C[$Nmd[QVd~JUp_(mhJ"><field name="NUM">-40</field></shadow></value></block></value></block></value><statement name="DO0"><block type="spritedestroy2" id="=io![cnc@fI9nCJ:sFVg"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.spray</field><value name="sprite"><block type="variables_get" id="P%jvPeK2rm]/`(709EL)"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><next><block type="variables_set" id="It.x=_mHS]N|Ab)o_RSJ"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field><value name="VALUE"><shadow type="math_number" id="DRcgxL8w$5KdO|Ar|?Fi"><field name="NUM">0</field></shadow><block type="logic_boolean" id="8Bq,^-gTO2q)45u]S(6i"><field name="BOOL">FALSE</field></block></value><next><block type="function_call" id="EPm-]1oU{}1[q*l1Wjux"><mutation name="spawnear_npcs" functionid="sJ;iR{hU{}`GdUJo~n2U"></mutation></block></next></block></next></block></statement></block></next></block></statement></block></next></block></statement></block><block type="gameupdate" id="sS8Y48ex4JTGd)0J/zJT" x="3451" y="20"><statement name="HANDLER"><block type="typescript_statement" id="v$`|3x9qQXOrN#~%ZIh;"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let MAP_SIZE2: number;" numlines="1" declaredvars="MAP_SIZE2"></mutation><next><block type="controls_if" id="BUKqJmS$b0[3sD.6VD=/"><comment pinned="false" h="80" w="160">Control de animaciones del jugador:
Detecta si se mueve para detener la animación si está quieto
y actualiza la dirección para apuntar correctamente al disparar.</comment><value name="IF0"><shadow type="logic_boolean" id="WI!$A0w_mfH76|fuEn1;"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="2F|jh1s@9uM[d^!tP!.x"><value name="BOOL"><shadow type="logic_boolean" id="2yq,:V499)(SsbzF)XS@"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="$DN]t4=~^ZCc+r0/1t{;"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="{~;}aWz2QF_vHFSjHt,C"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="controls_if" id="ekP4RcIQ.uK`5o-g[dJo"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="rn|HcYZ|3g2DFpz#f@lt"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="`%~4a-0Afxk!%ipcVlQ{"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field></block></value><statement name="DO0"><block type="variables_set" id="Tkh8Q%,OE?vR{muOifK%"><field name="VAR" id="@J]qxd63=K-O1)iyb9;W">MAP_SIZE2</field><value name="VALUE"><shadow type="math_number" id="b2|5j$Yj9BxR2b6f|/*+"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="^`Lh:=!n?K[%J,!Ak~z)"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="Wy`w+MWXSVQ*z+up:H,0"><field name="NUM">114</field></shadow></value><value name="B"><shadow type="math_number" id="P46xfoEJR#0~-?8YOIv_"><field name="NUM">16</field></shadow></value></block></value><next><block type="controls_if" id="+$lXEaHFa@h;VE}f{]#f"><value name="IF0"><shadow type="logic_boolean" id="fk8S$(?Q:cmHx1e)tG,x"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="%$U#I9bH%mw.|gnK)A=z"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id=".=)^(?GrmUQ0tD9r2Lp!"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="lhR/$D?e@jDVI1G5r+44"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="1,ttydXT7}jg+gl`?`Sx"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="KEnfPi*0:cApoYJcaJMd"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="gP;mFe_}rrnGk0QTf~kC"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="6M+^b7/v(yYq9u-B/Qyp"><field name="property">Sprite.vx</field><value name="mySprite"><block type="variables_get" id="#@U:_Zo-mVDkc_Ox@Toi"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id=".AyK(`v6;p}^6zI;E|.b"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="WP9;oUYd0omCbYcJy``U"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="84A:R_N[B#(|ZXL8!M(U"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="{Xp)57:)h_IEtNs?jy@4"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="dsld7EK#V.JSo=j4Y#@#"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="gxj|3[@-hP_kAh_JhPik"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="h@s_.f`%lIHjz84*Hes#"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=":m%9bnwsJH^,sr+g6`=_"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="bZ=DM}g/TMI3b_q9[maJ"><field name="NUM">0</field></shadow><block type="variables_get" id="0n0Vl]m)f#ruaRP1zOpa"><field name="VAR" id="@J]qxd63=K-O1)iyb9;W">MAP_SIZE2</field></block></value><value name="B"><shadow type="math_number" id="r(`oo5;x0q3:Ywe},eon"><field name="NUM">40</field></shadow></value></block></value></block></value></block></value><value name="B"><shadow type="logic_boolean" id="=yUJm#o8X=@#]vJD689k"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="PcBppPwz#5R-xUa.=t}."><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="oJA?p2E`}wRjSB}-E:F{"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="iJarqcVgg]S/@E6RwkO?"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="ywR9[8L~B)UnCe:|6KT|"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="`U[AtBDn5A*@^~vNXMW?"><field name="property">Sprite.vx</field><value name="mySprite"><block type="variables_get" id="-z-80mM=T:PutIi$g,^l"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="x7mmF;=mfo{Y(?@IMS:t"><field name="NUM">0</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="ex)~Q2_tYoc*=Bl?(cOm"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+uKDW[q6)qZN@L80[Z4f"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="UEx==ot!bHESNb+m}T0W"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="uP2ww8uLeHmckPnV!}|#"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="e,[PMC*.#q$370)?9SUA"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="k)7CvbW}E[){#S!^nI+="><field name="NUM">-40</field></shadow></value></block></value></block></value></block></value><statement name="DO0"><block type="spritesetpos" id="dr6Q`%5o~D!aTM.MIoeC"><value name="sprite"><block type="variables_get" id=".POd[$oDYSlzC4Q-[P]@"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="x"><shadow type="positionPicker" id="Pdo*O/vz3zNzF,7}@3ws"><field name="index">0</field></shadow><block type="math_arithmetic" id="e#J!-hrjp,*HZgvQ]$Nc"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="gu,6eb3j.95dk,d,+nDY"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="Zj2RQNoeKom?E`]!k!+/"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="j@G6RzZ]QK3:-VR#qg9z"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="B"><shadow type="math_number" id="LwsKjQ-:)6nQ74$X@icp"><field name="NUM">20</field></shadow></value></block></value><value name="y"><shadow type="positionPicker" id="G$l-Rh`f_]vvcU__!5U!"><field name="index">0</field></shadow><block type="Sprite_blockCombine_get" id="$_]ReU4sUp;#*cF80u#@"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="!wJU,p8h.JOfq9:v($5|"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><next><block type="game_control_sprite" id=".#iVK9VPHgMoOD4eHv8W"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="u:gbe6aEvnh`tO_0WBcw"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id=".1N#mA]oNp{7-HyabAo^"><field name="speed">100</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="_mqCzmA~1NoJ(R.s(B]l"><field name="speed">100</field></shadow></value><next><block type="camerafollow" id="BsJn?0Daz7EUD*EneogI"><value name="sprite"><block type="variables_get" id="QVRr?9tno;P0O_6:k-Rj"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><next><block type="spritedestroy2" id="#zXh26H[-FS+L7s+O9|O"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><field name="effect">effects.trail</field><value name="sprite"><block type="variables_get" id="BJ5zp`lL/H/Q#bb*aL=O"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="duration"><shadow type="timePicker" id="VSN~m}(Z}cUk`;{JwGSz"><field name="ms">500</field></shadow></value><next><block type="variables_set" id="#{|RtG,p[;Pdj{+}XKE0"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field><value name="VALUE"><shadow type="math_number" id="vxajklfsd}qxvIukd?3y"><field name="NUM">0</field></shadow><block type="logic_boolean" id="{$GG/c_4J#tk{L}t+W_O"><field name="BOOL">FALSE</field></block></value><next><block type="function_call" id="kug_Y?O1TJ2|LPS[Pdm5"><mutation name="spawnear_npcs" functionid="sJ;iR{hU{}`GdUJo~n2U"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="*fH(XcUwP1*EMh.[=Tb["><field name="VAR" id="Q9.LZ^mHt@sX6K.Et--h">moviendo</field><value name="VALUE"><shadow type="math_number" id="[kzuO]_ikX7f7[OTpeSP"><field name="NUM">0</field></shadow><block type="logic_operation" id="6kNH.ZeFXlebadAx:Z#W"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="]}N_6;f2|q6`kRb!;Is9"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="P*Vf-tMn%8;P8)7UyN.l"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="efxrrm8$av#_x!$xhsm*"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="d4l*3|*)`=~YQ2eU75Rg"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="DF~.(,3!*1;/.(s,GEZ`"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="O(PT!(L342.hFJm1E{:*"><field name="button">controller.down</field></block></value><value name="B"><shadow type="logic_boolean" id="n^j:%g}:C^#$}|Cqn@{;"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="?XKZnh1S-79DbSA87:*I"><field name="button">controller.left</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="l6TQ.N=/W-DARH2Y@7`A"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="khoi~]aR$-x@m3HY=T/7"><field name="button">controller.up</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="_7@.|XYTrNJ(To4iVcZJ"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="V$=Dmp/J8l}?1N+#WMjx"><field name="button">controller.right</field></block></value></block></value><next><block type="controls_if" id="8waX2C^qU@G9GB*py]S6"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="_D@uV3+eRS@0bQ5WXB6~"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="0XQ0gFdW,%Li3KB7BC3,"><field name="button">controller.up</field></block></value><statement name="DO0"><block type="variables_set" id="f=RR#=f+G%w_.,nq04Mq"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field><value name="VALUE"><shadow type="math_number" id="d[Y(y}cs0v@TO^)wG1j_"><field name="NUM">0</field></shadow><block type="text" id="f6Pc%hOw|B/qfBu`M234"><field name="TEXT">arriba</field></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="Y`WzLTifO=wEaHZT_!`["><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="rz}[c1M,PNeHPzx8fpb;"><field name="button">controller.down</field></block></value><statement name="DO1"><block type="variables_set" id="^sQUF}tMB2;-gOG!eccb"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field><value name="VALUE"><shadow type="math_number" id="Kq0qkSWxRP|9yxW=eowM"><field name="NUM">0</field></shadow><block type="text" id="o`W[0E#][H;;(xM=;r0O"><field name="TEXT">abajo</field></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="6S:$X5fh{w}{0yy6yoh3"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="y^;.`n#Cts5HZF%d?)*p"><field name="button">controller.left</field></block></value><statement name="DO2"><block type="variables_set" id="}?KG:GAB0t~s=+XqGyMt"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field><value name="VALUE"><shadow type="math_number" id="lc!H2Ky?u:x1YMi?BEs1"><field name="NUM">0</field></shadow><block type="text" id="CVwe#+L;#F#7m/9F=Rp4"><field name="TEXT">izquierda</field></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="1y_,jeYcuncs+|mwz^d3"><field name="BOOL">TRUE</field></shadow><block type="keyispressed" id="k#~k4Avb0#NId:%2pVV~"><field name="button">controller.right</field></block></value><statement name="DO3"><block type="variables_set" id="ppu9iu;^SgazA|5dR(?{"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field><value name="VALUE"><shadow type="math_number" id="QWrWa=+84N=o1]IBu?#U"><field name="NUM">0</field></shadow><block type="text" id="iyX!Cb^Y1,gIuqU^PKva"><field name="TEXT">derecha</field></block></value></block></statement><next><block type="controls_if" id="4^MdkNFUMukRmuOC*Ns5"><value name="IF0"><shadow type="logic_boolean" id="+%!}A(~rfQRFS|h(M^0C"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="C-#Wn!terVkA?5z3A$OP"><value name="BOOL"><shadow type="logic_boolean" id="`q*r$(sTw},G2yKbvdgM"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="|9Pt1+3_Neg%mZa2NT;z"><field name="VAR" id="Q9.LZ^mHt@sX6K.Et--h">moviendo</field></block></value></block></value><statement name="DO0"><block type="stop_animations" id="VcF:OI=w0M)BkRb^0(:("><field name="type">animation.AnimationTypes.All</field><value name="sprite"><block type="variables_get" id="Z?CrtqkY)Uf@)~dXCM,j"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value></block></statement></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="7)oX,,1BFeU0mQ]1W7bl" x="5798" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id=":`|Ox4ij:jz8r[Qzy;aR"><value name="IF0"><shadow type="logic_boolean" id="GG0Ku+S3+8BSMfwi+m~u"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="IaX0lLV[,!eB}ZYdr79C"><value name="BOOL"><shadow type="logic_boolean" id="CN%3dbRr;yB7TzmPPum}"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="BRUvYcA6{?A6k_R*V/ly"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="#nnz!1-G9/!af3f4M,75"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="run_image_animation" id="IKu2j0fA1(hgh:H[(`rP"><value name="sprite"><block type="variables_get" id="`DHf,?#J^Zm0vc*-I@ao"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="frames"><shadow type="animation_editor" id="AT{AM!b)ciFF[wS^sem*"><field name="frames">assets.animation`animado_izq`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="5PBI{t[GXeS)kfWqV-CZ"><field name="ms">200</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="uE+vh9N1msP*V,B!/obL"><field name="on">true</field></shadow></value></block></next></block></statement></block><block type="keyonevent" id="X9[sdyL)$JNVWk]#4/80" x="6249" y="20"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="H@i)(I3y/I_Fl0]a@oLe"><comment pinned="false" h="80" w="160">Controlador de estados para el botón A (Acción principal):
1. Menú: Iniciar partida.
2. Autobús: Saltar al mapa.
3. Juego: Disparar arma.</comment><value name="IF0"><shadow type="logic_boolean" id="53}#?6j`0pJ)ho`Cnnn?"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="4Bcq9D~{38?uOkoKCr+o"><value name="BOOL"><shadow type="logic_boolean" id="Br}0xs-x%2UyFwC{Xhi("><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="{_ToV|l(+2AC~;0=Yg`%"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="(zDU2KhTKJX$Jn:hq}x+"><value name="IF0"><shadow type="logic_boolean" id="K.]//Gm=heqF`8,axNFf"><field name="BOOL">TRUE</field></shadow><block type="spriteoverlapswith" id="KN16#(evI*y.GB:Nl:ui"><value name="sprite"><block type="variables_get" id="{b`G/o+]+!#p5@V1=Xb("><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field></block></value><value name="other"><block type="variables_get" id="Q@{kZP)VP]ShO/@(7%fb"><field name="VAR" id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</field></block></value></block></value><statement name="DO0"><block type="function_call" id="C;81P0/p{*mmUqMu%Kb6"><mutation name="iniciar_partida" functionid="V{PG6NX;NW~4Y]G|+~8}"></mutation></block></statement><next><block type="typescript_statement" id="Q0zu[d1VXNf[27lA;AT)"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></next></block></statement><next><block type="controls_if" id="_3j1_%mYk{jLvwP.tT;+"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="~18VpI{i2;6+K7%lt1AM"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="T4*_DdTIuh{IEF6R3WFR"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field></block></value><statement name="DO0"><block type="spritesetpos" id="Qy+MDp2;]$2twsz^$~`C"><value name="sprite"><block type="variables_get" id="tb$][#S/5|m$A;lbr@e@"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="x"><shadow type="positionPicker" id="YDPxFXSt_WP7i%Mi!+1("><field name="index">0</field></shadow><block type="Sprite_blockCombine_get" id="|BN,ODHpq{m-LP`K3h6`"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="RgjVN7Eq,wFQD:nupllq"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><value name="y"><shadow type="positionPicker" id="Z)Bi6Y;Im-+g/IT?K9{)"><field name="index">0</field></shadow><block type="Sprite_blockCombine_get" id="0QCfL?rXy^J[o_QFq|tO"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="Nd=ZKj`M0o!P0|)b/hlv"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></value><next><block type="game_control_sprite" id="tp8;xAv:mwryjh!uX$U:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id=",zp^1%-C.@-M#/%!u3/1"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="PRRL{WdOpY*FD@b++K]V"><field name="speed">100</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="GrUNJRrgS,mYGG1+JW(q"><field name="speed">100</field></shadow></value><next><block type="camerafollow" id="Iv-zujx_?HaT2,%F3`Qv"><value name="sprite"><block type="variables_get" id="`gwtK.McV4i7`8J^./Bc"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><next><block type="spritedestroy2" id="UMm,[ooR-ib38Sj((w*{"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><field name="effect">effects.trail</field><value name="sprite"><block type="variables_get" id="bkq+gbH}@93k,-e$~.*5"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="duration"><shadow type="timePicker" id="bxi69Vn9^*7AkO-!vIc="><field name="ms">500</field></shadow></value><next><block type="variables_set" id="9.vx+61Bx/*k?8Y0go?0"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field><value name="VALUE"><shadow type="math_number" id="24p7AiNaA#^JN~prbF{M"><field name="NUM">0</field></shadow><block type="logic_boolean" id="*%;0Ei)~s0nQHe8kUJ]g"><field name="BOOL">FALSE</field></block></value><next><block type="function_call" id="YBBewUV##?-a9@hzwLAx"><mutation name="spawnear_npcs" functionid="sJ;iR{hU{}`GdUJo~n2U"></mutation></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="function_call" id="zK1rzagBN7a3E#QJ#ok]"><mutation name="disparar" functionid="pcDx~hJAij2Z@:%Xe_$e"></mutation></block></statement></block></next></block></statement></block><block type="keyonevent" id="~har~O:dAfn-7gMOH0w{" x="7066" y="20"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="[%4iwzr^@M_1h5FCvV=`"><comment pinned="false" h="80" w="160">Botón de interacción secundaria: Abrir cofres</comment><value name="IF0"><shadow type="logic_boolean" id="jO~SIr1yDf4b97~uHUQ,"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="lU]s|1n_Erj[BZx.c]W_"><value name="BOOL"><shadow type="logic_boolean" id="!%l2/[jSY*Ytlf@+Ni.?"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="FwgMXMCY`H/]]eHKzLpS"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="A7]n6g77TNh3,^:^6D)/"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="function_call" id=":Cyw=o.Cd/(IU*5Dnb42"><mutation name="Abrir_Cofre" functionid="3?N,*$0%ljy+3~;@W8#|"></mutation></block></next></block></statement></block><block type="keyonevent" id="X)FLW8%Nq)B}SPY[HbN_" x="20" y="2489"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><comment pinned="false" h="80" w="160">--- CONTROLES DE MOVIMIENTO ---
Estos eventos capturan la pulsación de teclas para activar
la animación visual correspondiente hacia donde mira el personaje.</comment><statement name="HANDLER"><block type="controls_if" id=")sWS*pl0bw^mQH=$w+}s"><value name="IF0"><shadow type="logic_boolean" id="(R61y08vwf(B~}CF4wwF"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="(H!qvS2,JdRfzR-TZ08j"><value name="BOOL"><shadow type="logic_boolean" id="{+S]0d/=ag91`bGQ`h{}"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="j6G2*22,t-4/5|0D]_|H"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="@Z0]BGsh)B.I:LX]gIOn"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="run_image_animation" id="Ef(iM+X(t{QPLS8({,^="><value name="sprite"><block type="variables_get" id="=@EXitQ!2a_qYjn5}vCM"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="frames"><shadow type="animation_editor" id="SA2._7w/DxhWGWHK@y2J"><field name="frames">assets.animation`animado_arriba`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="S)3,36rAt7c}[Ne*9rh1"><field name="ms">200</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="$LGH8$e[A52Uvt]Gr*(D"><field name="on">true</field></shadow></value></block></next></block></statement></block><block type="keyonevent" id="Erw5=Z~_scM}@dk,,Ryn" x="471" y="2489"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="Th~IcWm`4ceRJY[w(I^N"><value name="IF0"><shadow type="logic_boolean" id="2{xXp#QT;0xtH2(x)sQR"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="ai)!fZo]B=$Ss`8USsRh"><value name="BOOL"><shadow type="logic_boolean" id="?rv.3t=$P;kPt,x_i**h"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="S5=`)EQ_}P5NuW?*@7Db"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="DM@phfBWAa.C~|o/wphJ"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="run_image_animation" id="h}^kHEA3,51;xTMz=poq"><value name="sprite"><block type="variables_get" id="xN|7*%@b[|%J],X=bIj)"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="frames"><shadow type="animation_editor" id="`1Z/rAezF*;Id)/?=O4D"><field name="frames">assets.animation`animado_der`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="dva;,(}?^SKK]b4GeF{0"><field name="ms">200</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="p];#_HI=y0t3+#i@K)nS"><field name="on">true</field></shadow></value></block></next></block></statement></block><block type="keyonevent" id="dA[p8B|@7kSLf5lr8]t$" x="923" y="2489"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="Zq`nv~OWkM!yKn!@|[[U"><value name="IF0"><shadow type="logic_boolean" id="Zw%+6|?Fi*#adIG(@,7t"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="Qn?kT6b6rLf6Ev:JTYd@"><value name="BOOL"><shadow type="logic_boolean" id="?/bYS7W9AFI=C$g(V{]:"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Y+`?f{Kv!n.t!_O#;x]."><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="rA:Ue8,,]P-#MWjgyH}N"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="return" numlines="1"></mutation></block></statement><next><block type="run_image_animation" id="r@Ah@}nVPZ#i:zb7,f6t"><value name="sprite"><block type="variables_get" id="~?;g!J%XTpjMKlh=4dr7"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="frames"><shadow type="animation_editor" id=";WeP9e3R:K%?Ngk%dc.C"><field name="frames">assets.animation`animado_abajo`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="2`]VCJJ_jSDS_^QP3~1="><field name="ms">200</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="XIS7YObAPRjpl,L(KRuF"><field name="on">true</field></shadow></value></block></next></block></statement></block><block type="spritesoverlap" id="c+Yai|=7O[VHJzI=+$f1" x="1374" y="2489"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="r_mJH551_g?%Lj[zo1=2"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">jugador</field></block></value><value name="kind"><shadow type="spritekind" id="Y#nw%7L*iF^Gey04E!24"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="|UB.3h[CL7#CQ-b4NrTJ"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">bala_mala</field></block></value><value name="otherKind"><shadow type="spritekind" id="|HH@0);qB=oD`Fe5BUL$"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="Y@fLy`0+`(Uyf-b5SAn?"><field name="EXPRESSION">SpriteKind.BalaEnemiga</field></block></value><statement name="HANDLER"><block type="controls_if" id="A%kDlXcI,-NQ}[_iBv]9"><mutation elseif="2" else="1"></mutation><comment pinned="false" h="80" w="160">Gestión de daño recibido por el jugador.
Detecta el tipo de bala según su imagen para aplicar daño variable (30, 40 o 20).</comment><value name="IF0"><shadow type="logic_boolean" id="(3@+T;j7:0?~Mt=;!D[N"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="pwrMv~qQpk!Ev6]wwi6y"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="F#VLe*]_!T/V)h5G7Wgi"><field name="NUM">0</field></shadow><block type="spriteimage" id="l:Nq9Mhzqt6^=N*rDwJX"><value name="sprite"><block type="variables_get" id="%fc(d%R{1SSa,Ud!}h7e"><field name="VAR" id="cX(;A4k|wrz3$+55Ww3L">bala_mala</field></block></value></block></value><value name="B"><shadow type="math_number" id="ry:#(BoShOxzLVVZOb,*"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="mih^iE!([,C%gg8oK7~d"><field name="img">assets.image`disparo1`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></block></value></block></value><statement name="DO0"><block type="variables_set" id="W5ef$lQheGx3wU2jPIYB"><field name="VAR" id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</field><value name="VALUE"><shadow type="math_number" id="s]O(gZ(tCIMMW|.cbd?e"><field name="NUM">30</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="c%II8;/:5({^dUrnz*8%"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="ov2nOpk}R^Z^[2+BCuJ="><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="xub^.Xsd~I3W4u4YOv.M"><field name="NUM">0</field></shadow><block type="spriteimage" id="(Xd-X{alKp=6#(7;MuBS"><value name="sprite"><block type="variables_get" id="pcY=ASomTDl{4K2:Xx00"><field name="VAR" id="cX(;A4k|wrz3$+55Ww3L">bala_mala</field></block></value></block></value><value name="B"><shadow type="math_number" id="7A`qVaaJhBM]1IAYb;v^"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="L52ffA9uZh4):$kjhGs6"><field name="img">assets.image`disparo2`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image25"}}</data></block></value></block></value><statement name="DO1"><block type="variables_set" id="k9,UNic%Q/P4wS@C*v{3"><field name="VAR" id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</field><comment pinned="false" h="80" w="160">Escopeta</comment><value name="VALUE"><shadow type="math_number" id="Pv64^B=(MYQTGD88@X@i"><field name="NUM">40</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="MVF=^O:.P+L9%cLt(u+`"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{o?.$bIJ|mC-3wN(jW~u"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="jRGMP4_R|:3n}Fl+/)q+"><field name="NUM">0</field></shadow><block type="spriteimage" id="/rZ.PyEqW?0e}Q[U5$JH"><value name="sprite"><block type="variables_get" id="Ne2!dgr}i$A!fDgV;m[O"><field name="VAR" id="cX(;A4k|wrz3$+55Ww3L">bala_mala</field></block></value></block></value><value name="B"><shadow type="math_number" id="yGASdwxwOG/4^oQ|*oGv"><field name="NUM">0</field></shadow><block type="screen_image_picker" id="MdhJB1+AT4q^a~u0,n4+"><field name="img">assets.image`disparo3`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image23"}}</data></block></value></block></value><statement name="DO2"><block type="variables_set" id="+wG5iu,c!XPA41:BSJq,"><field name="VAR" id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</field><comment pinned="false" h="80" w="160">Francotirador</comment><value name="VALUE"><shadow type="math_number" id=".S/7n~]EDep*|x3Kh:Fj"><field name="NUM">20</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="C=f(c)X*l^bo?J6J.@7k"><field name="VAR" id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</field><comment pinned="false" h="80" w="160">Fusil</comment><value name="VALUE"><shadow type="math_number" id="aUILwf8%e_Z1Sd{3d,~P"><field name="NUM">10</field></shadow></value></block></statement><next><block type="spritedestroy2" id="z%|h-g^L9UtM4%%QK@#@"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.spray</field><value name="sprite"><block type="variables_get" id="Oul?}pVii9tKXC5nVp5|"><field name="VAR" id="cX(;A4k|wrz3$+55Ww3L">bala_mala</field></block></value><next><block type="camerashake" id="_KhGt(d7Ye+mpZPKbYH_"><value name="amplitude"><shadow type="math_number_minmax" id="*,a2:u3E5Q@Si;GgrsmU"><mutation min="1" max="8" precision="0"></mutation><field name="SLIDER">4</field></shadow></value><value name="duration"><shadow type="timePicker" id="xSYYP;A;Gq@nF|qUfCtk"><field name="ms">500</field></shadow></value><next><block type="controls_if" id="|JfIZSs]ifs{RY!^3SN]"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Verificación del estado de escudo: si está activo, anula el daño</comment><value name="IF0"><shadow type="logic_boolean" id=")vd3zw8,{$4)T,.*7uqR"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="1TUW$7@*:#q44kN{tP=f"><field name="VAR" id="AyJP2=,eTaF?9DZ21$jR">tiene_escudo</field></block></value><statement name="DO0"><block type="startEffectOnSprite" id="?eS*Ndw6GB,zKIr~Nz$s"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="effect">effects.fountain</field><value name="sprite"><block type="variables_get" id=";[OdVAUf-m!mz9ZsY6zS"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="duration"><shadow type="timePicker" id="g8/rA4?^Ht[P(l_`$}MN"><field name="ms">500</field></shadow></value><next><block type="variables_set" id="u5GSATvDZwnEyUralLq["><field name="VAR" id="AyJP2=,eTaF?9DZ21$jR">tiene_escudo</field><value name="VALUE"><shadow type="math_number" id="^u7/r$*@fKN?6OFO@3{P"><field name="NUM">0</field></shadow><block type="logic_boolean" id="]K1r+(zf+oWlV72.6zLW"><field name="BOOL">FALSE</field></block></value><next><block type="gameSplash" id="Qyq)KzS#Smh`{V(5P3X["><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="o5E6V)HTnh}8=|3~9~[|"><field name="TEXT">¡Escudo roto!</field></shadow></value><value name="subtitle"><shadow type="text" id="wC}}a~v:9d%4n:iNu4[P"><field name="TEXT">No recibes daño</field></shadow></value></block></next></block></next></block></statement><statement name="ELSE"><block type="hudChangeLifeBy" id="qo=%P^gNK^%D57CR_{M("><value name="value"><block type="math_arithmetic" id="^hT29o6omTt8q]{?OK)6"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="3L=z(}xec%wQcZRN^x8I"><field name="NUM">0</field></shadow><block type="variables_get" id="=(OQUNF%TTql|Ylhv}(_"><field name="VAR" id="y`6_mW1oCY}REFOS=VKJ">daño_recibido</field></block></value><value name="B"><shadow type="math_number" id="L]k@83peF(uprd]3OLpI"><field name="NUM">-1</field></shadow></value></block></value></block></statement></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="A/410KRHs#bdTF=aeiNM" x="2373" y="2489"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="}Ai*Cn!.jP%/uH;`?TH^"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">proyectil2</field></block></value><value name="kind"><shadow type="spritekind" id=";VCpO^H[+I22IO?nBj:b"><field name="MEMBER">Projectile</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="qB|~^mDIw])Zcay[7L8+"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">enemigo2</field></block></value><value name="otherKind"><shadow type="spritekind" id="tr}Jm=R~tEngVA(:vxY]"><field name="MEMBER">Enemy</field></shadow></value><statement name="HANDLER"><block type="spritedestroy2" id="{NGf``0bkxzwVr+TzOqE"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.spray</field><comment pinned="false" h="80" w="160">Evento de impacto de bala del jugador contra enemigo.
En lugar de destruir al enemigo inmediatamente, se reduce la barra de vida vinculada.</comment><value name="sprite"><block type="variables_get" id="z5]dH]-/iQX}[wp1MS4R"><field name="VAR" id="[bx_{KvlSPCX-#@LeK!%">proyectil2</field></block></value><next><block type="variables_set" id="0h@!5i0/:KlC:We~e!U/"><field name="VAR" id="`C@e;jK-?f=~JmA}9=]*">barra_enemigo</field><value name="VALUE"><shadow type="math_number" id="agSH%[@g{P_AulQ?%$AP"><field name="NUM">0</field></shadow><block type="statusbars_spriteStatusBarIsAttachedTo" id="r3v!3)7C$sbiMzI(axmu"><value name="kind"><shadow type="statusbars_kind" id="Gr$[c|=y:}-{O[tq~dqA"><field name="MEMBER">EnemyHealth</field></shadow></value><value name="sprite"><block type="variables_get" id="y7;ocg4_4d!0I3^Wo8H0"><field name="VAR" id="YvB*V4z!u~ri|ys;l?i1">enemigo2</field></block></value></block></value><next><block type="controls_if" id="d(}Ogxa{=n+vQ/a?;NCY"><value name="IF0"><shadow type="logic_boolean" id="BL^TC_Wnk2V#O#}C?s/e"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="riWOfFeT]DJSZsWn;~/1"><field name="VAR" id="`C@e;jK-?f=~JmA}9=]*">barra_enemigo</field></block></value><statement name="DO0"><block type="StatusBarSprite_blockCombine_change" id="ij_adaR1.L~D!R+0`S_."><field name="propiedad">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get" id="zd.)NL)fEx4ewD/Y1Gw9"><field name="VAR" id="`C@e;jK-?f=~JmA}9=]*">barra_enemigo</field></block></value><value name="value"><shadow type="math_number" id="04W6Z$Va5Ig2)W|guvgw"><field name="NUM">-20</field></shadow></value><next><block type="startEffectOnSprite" id="AGjwuaHHEf%DfT_M=f7,"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="effect">effects.ashes</field><value name="sprite"><block type="variables_get" id="3|,}+e{T$_(3ladNEMM%"><field name="VAR" id="YvB*V4z!u~ri|ys;l?i1">enemigo2</field></block></value><value name="duration"><shadow type="timePicker" id="~`N;5~=#IhvB^{B?cr0P"><field name="ms">100</field></shadow></value></block></next></block></statement></block></next></block></next></block></statement></block><block type="statusbars_onZero" id="DzF;v{WKr8I-.4~;_$6^" x="3289" y="2489"><value name="kind"><shadow type="statusbars_kind" id=");?ykLv,[5@!b.m$,slL"><field name="MEMBER">EnemyHealth</field></shadow></value><value name="HANDLER_DRAG_PARAM_status"><block type="argument_reporter_custom" id="h!y2_]z)k}St[3=GuKuL"><mutation duplicateondrag="true" typename="StatusBarSprite"></mutation><field name="VALUE">status</field></block></value><statement name="HANDLER"><block type="variables_set" id="j7tY_9Q@[~q6-j#ca[6s"><field name="VAR" id="nndxs(WTNf)x!C*I.)n(">enemigo_muerto</field><comment pinned="false" h="80" w="160">Evento de la extensión StatusBar: Se dispara cuando la vida de un enemigo llega a 0.
Gestiona la eliminación del enemigo, puntuación y condición de victoria.</comment><value name="VALUE"><shadow type="math_number" id="f1MWa^a)l1a6s]|_}E*["><field name="NUM">0</field></shadow><block type="statusbars_attachSpriteGetter" id="7Og;/ENZ)oPWps?j3K0l"><value name="this"><block type="argument_reporter_custom" id="4D=[?Vqh[qG%rEXEop~#"><mutation typename="StatusBarSprite"></mutation><field name="VALUE">status</field></block></value></block></value><next><block type="spritedestroy2" id="GZZLBxRr{hXzYrHBDeuA"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><field name="effect">effects.fire</field><value name="sprite"><block type="variables_get" id="FDfHte-zW@:fIC7f811#"><field name="VAR" id="nndxs(WTNf)x!C*I.)n(">enemigo_muerto</field></block></value><value name="duration"><shadow type="timePicker" id="8v!HsHs$,%;3?|?wENLh"><field name="ms">500</field></shadow></value><next><block type="variables_change" id=",5RO=0$C)Lju.$!{*zd%"><field name="VAR" id="HD%r,~dc[_%0lH%{yb*f">kills</field><value name="VALUE"><shadow type="math_number" id="r(`.^rz2?P!0WQp%5{Y~"><field name="NUM">1</field></shadow></value><next><block type="variables_change" id="CxJMVv(vn$q0=-n},AtY"><field name="VAR" id="=IKPJJ(^6iY)jU~%jC`W">npcs_vivos</field><value name="VALUE"><shadow type="math_number" id="tBO+}LaD%z7hA]ZUV1s$"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="k@1^m#-RB{K[D6.jeorW"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="I51(vA,~e::gpz?^#`c."><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number" id="N;Ow3G?omv,`*`D|vy;h"><field name="NUM">1</field></shadow></value></block></value><next><block type="hudChangeScoreBy" id="aai%X61BUqI=5}[~VtBm"><value name="value"><shadow type="math_number" id="`U#d,/dAHBQ]ICz5v:v1"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="Z/,?e#5NNffT+7MX%qhb"><value name="IF0"><shadow type="logic_boolean" id="SzfRsmalrs9qikr:T/yy"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="KORm?_O;f_MGAEkLy_Zo"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="%@vN)3zWYMn)pE|7^NnI"><field name="NUM">0</field></shadow><block type="variables_get" id="QW9}6Q$w3jwGQ?OiIl6!"><field name="VAR" id="=IKPJJ(^6iY)jU~%jC`W">npcs_vivos</field></block></value><value name="B"><shadow type="math_number" id="JVdnn+A4c;FdocqdJ^w-"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="gameSplash" id="9DnGL*b@PfH@~ItE]2s["><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="Mb)t?[1}nM=@B7?*7?/o"><field name="TEXT">VICTORY ROYALE!</field></shadow></value><value name="subtitle"><shadow type="text" id=";*.3H_vIJ%lt:gj2_#}L"><field name="TEXT"></field></shadow><block type="text_join" id="(%:6~C[hS.(V4Un(lT@t"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="cND?G.3g/HKBG*qwO)W{"><field name="TEXT">Kills: </field></shadow></value><value name="ADD1"><shadow type="text" id="g!Ei/[?qa!kZ*Z7iPj0Z"><field name="TEXT"></field></shadow><block type="text_join" id="Yx$~fPl!lhFQxre1WNB["><mutation items="1"></mutation><value name="ADD0"><shadow type="text" id="fP5zqGcmYVUPl-t{_Y{0"><field name="TEXT"></field></shadow><block type="text_join" id="(drQjf?fU.bjvP)HfDPK"><mutation items="1"></mutation><value name="ADD0"><shadow type="text" id="r%vY@mutUF$k-Rd]-eTf"><field name="TEXT"></field></shadow><block type="text_join" id="c7t7:+hAB9U{]~|hd$:m"><mutation items="1"></mutation><value name="ADD0"><shadow type="text" id="ZlH0E5Enz9fIYE;iR2^w"><field name="TEXT"></field></shadow><block type="variables_get" id=",wp]2kzFo{VPT]OqlU~."><field name="VAR" id="HD%r,~dc[_%0lH%{yb*f">kills</field></block></value></block></value></block></value></block></value></block></value><next><block type="gameOver" id="-cE|~f4d$zihBLcTaMRA"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.confetti</field><value name="win"><shadow type="toggleWinLose" id=":i~?f+ng2j*~`qG591lL"><field name="win">true</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="V-*^y4M4#2N}vm!qo7#[" x="4316" y="2489"><mutation name="habilidad_municion" functionid="*l_+T-zX1Lod?jrUPD8Y"></mutation><field name="function_name">habilidad_municion</field><statement name="STACK"><block type="variables_change" id="fCenOH%QoE4Rode1(WR1"><field name="VAR" id="kJGj;bT5KBV#u{y8w!9!">municion_actual</field><value name="VALUE"><shadow type="math_number" id="-kj*nY}aHzv:/TwvzHQt"><field name="NUM">50</field></shadow></value><next><block type="gameSplash" id="*6s2NQVQNp(0Egr/eU5j"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="OxllJ^wF]oQUBx+18H)g"><field name="TEXT">NPC Munición</field></shadow></value><value name="subtitle"><shadow type="text" id="*Dc@Zv6E.U3PT0tpQzu_"><field name="TEXT">+50 balas</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="xU)D[xJ6CQ,Ht;@i%Rs2" x="4777" y="2489"><mutation name="habilidad_velocidad" functionid="ZmNOBJqNC`)4Fo,s61~8"></mutation><field name="function_name">habilidad_velocidad</field><statement name="STACK"><block type="game_control_sprite" id="W!%Ck/~L*CATLY2:o;X9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><comment pinned="false" h="80" w="160">Modifica la velocidad base del controlador de movimiento</comment><value name="sprite"><block type="variables_get" id="5{EQn^c!!`YXpZ?mMUCV"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="PtQRe3scGH#[QCb=IF,."><field name="speed">150</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="^Z_cb`,W#IUxf1W7^e@S"><field name="speed">150</field></shadow></value><next><block type="gameSplash" id="4c:5W:p_,B_s)N6)?`Fu"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="=to~z?GZK2DO]KO2MfSi"><field name="TEXT">NPC Corredor</field></shadow></value><value name="subtitle"><shadow type="text" id="4]p*Oo1HtW`$G]VtgD6h"><field name="TEXT">Velocidad aumentada!</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="SB/9N[^nT_Z8MqnjgZzU" x="5387" y="2489"><mutation name="Abrir_Cofre" functionid="3?N,*$0%ljy+3~;@W8#|"></mutation><field name="function_name">Abrir_Cofre</field><statement name="STACK"><block type="variables_set" id="?J)(2^XP!yt~qyCmz-._"><field name="VAR" id="[nCJiXJ2k_M73wHL)x*2">ubicacion</field><comment pinned="false" h="80" w="160">Lógica de detección de tiles adyacentes.
Comprueba si hay un cofre cerrado en la dirección a la que mira el jugador.
Si lo encuentra, reemplaza el tile por uno abierto y otorga recompensa.</comment><value name="VALUE"><shadow type="math_number" id="$LBb!KW/di6]./(ThG]m"><field name="NUM">0</field></shadow><block type="tiles_location_of_sprite" id="JeY$8VJ.}|Mp{=c%w=2E"><value name="this"><block type="variables_get" id="Xv^dc?R**0+ngDn.NJg4"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value></block></value><next><block type="variables_set" id="vCiOxMYb+#`Q*.l*RB~E"><field name="VAR" id="SSG*08,dBtOfzVb#,VM!">col</field><value name="VALUE"><shadow type="math_number" id="b5U2ste[x307_YnWE,_d"><field name="NUM">0</field></shadow><block type="tiles.Location_blockCombine_get" id="rStY=-X-qb!j`W~WF2nD"><field name="property">tiles.Location.column</field><value name="location"><block type="variables_get" id="_wD!%7Z*d+=s!XT|{[Ql"><field name="VAR" id="[nCJiXJ2k_M73wHL)x*2">ubicacion</field></block></value></block></value><next><block type="variables_set" id=".Z$3lXlYo/d^@`63w..@"><field name="VAR" id=")SJ;$/|aO1s)g:md)P~t">fila</field><value name="VALUE"><shadow type="math_number" id="h;kVn0.*~{mYN]L~Xv.B"><field name="NUM">0</field></shadow><block type="tiles.Location_blockCombine_get" id="FyA[2]zECcb3ctvp!8OB"><field name="property">tiles.Location.row</field><value name="location"><block type="variables_get" id="p8ee=jNfK4r0w]vOt~88"><field name="VAR" id="[nCJiXJ2k_M73wHL)x*2">ubicacion</field></block></value></block></value><next><block type="variables_set" id=")h,hByx+,7S@?gw$SZp7"><field name="VAR" id="Ur$wI#JTsq1gH!dL^}eW">techo</field><value name="VALUE"><shadow type="math_number" id="xJcd6T`L%U9ZRjKFGlgb"><field name="NUM">0</field></shadow><block type="logic_operation" id="3x.Z@cHn_ygp~K76D8[}"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="{B=Tk.hQ=9tyTuW?As^d"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="lfT)v1PmrQw^vu9DB_t%"><field name="direction">TileDirection.Top</field><value name="this"><block type="variables_get" id="U.l-{M#^wro?mTE~5M_:"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="dZ2pc1Cj/g}/EQ4VPIXj"><field name="tile">assets.tile`cofre_abajo`</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="kdthZLmy_*W9NTZi?%;Q"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="~V5Vh?%:ygZ[%n5T}1so"><field name="direction">TileDirection.Top</field><value name="this"><block type="variables_get" id=";qdGUrQR|FoY_`{vZqEn"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="l.9~}CN0Dlv6:Xm%jZbj"><field name="tile">assets.tile`myTile23`</field></shadow></value></block></value></block></value><next><block type="variables_set" id="t..pr2vm2=)i7Ssi]x4j"><field name="VAR" id="ql2M3iHbnYh,y4FTZoFN">suelo</field><value name="VALUE"><shadow type="math_number" id="![BelVP-0od?nkV//vt1"><field name="NUM">0</field></shadow><block type="logic_operation" id="h3~,H;JyPMy:5+W`^~`3"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="4f+^{-u:qY2lbY):_GEB"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="_9]Ad/xuxlJWAxM+I#+@"><field name="direction">TileDirection.Bottom</field><value name="this"><block type="variables_get" id="XNO4eR4X84%]Kh;e$ppn"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="ayKm|r?qkE4HqMS:kr9U"><field name="tile">assets.tile`cofre_abajo`</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="-}l^nh2RkZe~rUzz=Fw0"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="XfY}-T^O6jfQVOywaB!i"><field name="direction">TileDirection.Bottom</field><value name="this"><block type="variables_get" id="F:5e9|QhvJ|x6JWT@my6"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="~pL~HdJd.Ib~fF{E8C5."><field name="tile">assets.tile`myTile23`</field></shadow></value></block></value></block></value><next><block type="variables_set" id="^]vtYNz[wr,Gj:sYYgTo"><field name="VAR" id="`y+pivcpM?aCDaR8Cfc?">izq</field><value name="VALUE"><shadow type="math_number" id="dh%720-F^AWj#NWOOk_X"><field name="NUM">0</field></shadow><block type="logic_operation" id=";bG^IRuN!A#)M$HPEvVT"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="U4-QKseaXo`*eJ;O-x9A"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="L_dBLLFO_Y?20[C[Zl^7"><field name="direction">TileDirection.Left</field><value name="this"><block type="variables_get" id="v1iBx]b^.$uM5K{$W=A~"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="DZaHd)psj`8_j@ok*FLD"><field name="tile">assets.tile`cofre_abajo`</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="ErCg?Y^+,P]5dG.%2hZ4"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="r;V94vkIHv]yd$+i1Tgb"><field name="direction">TileDirection.Left</field><value name="this"><block type="variables_get" id=",^0u_-Dp[:cbJ0CN^Dnh"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="j594~U#g*u:l*S^uA@4P"><field name="tile">assets.tile`myTile23`</field></shadow></value></block></value></block></value><next><block type="variables_set" id="l(711}w{8?eZ5)5V^lR}"><field name="VAR" id="kK,L$GRd~7EUi{}q9,@}">der</field><value name="VALUE"><shadow type="math_number" id="22AZKn{!0C/FAA#]i#v-"><field name="NUM">0</field></shadow><block type="logic_operation" id="4/Foc1t`?Gn}I?`sdDhV"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="U@.rab@$wSYBH9=55=:w"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="h-n~4*4E+6f*}IrCGak%"><field name="direction">TileDirection.Right</field><value name="this"><block type="variables_get" id="KWAEMbX;S+uN.zubw,*4"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="vMc(%,_Re6yRTHh1L+hH"><field name="tile">assets.tile`cofre_abajo`</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="`!^dR-NAc?qg(?|Z;HEe"><field name="BOOL">TRUE</field></shadow><block type="spritetileat" id="G(lu2rU2:N07Y(G,?:-?"><field name="direction">TileDirection.Right</field><value name="this"><block type="variables_get" id="ZU35(@zwz^y4SGMqAHSN"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="DFfU!PuKBP:[R3Bg(ZC8"><field name="tile">assets.tile`myTile23`</field></shadow></value></block></value></block></value><next><block type="controls_if" id="{X].C+)vEg-Jd{[-,-cc"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="/j(2]k82Q$rP1SIHMT2q"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="*^^N#)P}U!3ethr=Wo3t"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="O;5cSw4+zU3FyvsY#5Lp"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="EA$%N^o:+*{}}uWR=+jl"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="9n)tzqSPn4?2ceAdN=0d"><field name="NUM">0</field></shadow><block type="variables_get" id="V/k6C$8?t$VGKs@T/`HW"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="xCZcTW2KVThw1l%OB8qR"><field name="NUM">0</field></shadow><block type="text" id="OyV6ne4K$9%F0+$PF[$?"><field name="TEXT">arriba</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="KUvT-%^f){4V{e1V]hz|"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="~i{~fd3foKihMbN/7Z]C"><field name="VAR" id="Ur$wI#JTsq1gH!dL^}eW">techo</field></block></value></block></value><statement name="DO0"><block type="mapsettileat" id="eY/^xuo_-TY2`@w`RrMx"><value name="tile"><shadow type="tileset_tile_picker" id="1T!m@n#II-*F%_!}sdef"><field name="tile">assets.tile`cofre_arriba`</field></shadow></value><value name="loc"><shadow type="mapgettile" id="[#3EAvO|;Xl6JMC,JZe_"></shadow><block type="mapgettile" id="z157}!Vq)iyUm~;6Y}_P"><value name="col"><block type="variables_get" id="w)XG=poo2fw9EDm7j^B|"><field name="VAR" id="SSG*08,dBtOfzVb#,VM!">col</field></block></value><value name="row"><block type="math_arithmetic" id="|?af;-H`l|}=728bDTeC"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="o^7zlpZ4KK+:O}5`DfH8"><field name="NUM">0</field></shadow><block type="variables_get" id="V6wYiBI0jS{4}c]rpIn["><field name="VAR" id=")SJ;$/|aO1s)g:md)P~t">fila</field></block></value><value name="B"><shadow type="math_number" id="{]1~Gx4a;}vc2AZW$`?x"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="6@)W-5I-V8LV_C]i8yBo"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field><value name="VALUE"><shadow type="math_number" id="D93^MT,kFGgK5xCr8h05"><field name="NUM">0</field></shadow><block type="logic_boolean" id="pgsP;5JuIuzy_]v;;a=;"><field name="BOOL">TRUE</field></block></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="IQH6x,xF+d!4D+`TYwHI"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="=(u!$ZL+8:#J+[S|WPY;"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id=";V[L)o;d#i,}*%la!12_"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="D)z45Cb9jtkSt5[AjGsg"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="9T;Z5A.HjZyMm2iFZ.D9"><field name="NUM">0</field></shadow><block type="variables_get" id="/DhF._AW!6axQa5CpZ@r"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="T-5D*2P3oE7]lj`KNfeH"><field name="NUM">0</field></shadow><block type="text" id=")#H0/FSV9k]}%:Jsq~@]"><field name="TEXT">abajo</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id=":Ty*|M~(ma@8^RmC~xF:"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="DO1Xi2X5l;/r26s.NFVE"><field name="VAR" id="ql2M3iHbnYh,y4FTZoFN">suelo</field></block></value></block></value><statement name="DO1"><block type="mapsettileat" id="o6ASRB.5tSbdbBC].g.T"><value name="tile"><shadow type="tileset_tile_picker" id="`/I:Q#Hb8V6DEnx2F*Yv"><field name="tile">assets.tile`cofre_arriba`</field></shadow></value><value name="loc"><shadow type="mapgettile" id="]9=?.0!)]bvw;$X0iV8,"></shadow><block type="mapgettile" id="@wj:$91rf./{4TtbksEO"><value name="col"><block type="variables_get" id="yJ$h:=rjJUm7SH0!k/9#"><field name="VAR" id="SSG*08,dBtOfzVb#,VM!">col</field></block></value><value name="row"><block type="math_arithmetic" id="?s;v)92cogMI~gt!O|z:"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="9s[HTN#~d9zO~3}xH*u9"><field name="NUM">0</field></shadow><block type="variables_get" id=",q*Opr#A@,-@^vSZ|(|^"><field name="VAR" id=")SJ;$/|aO1s)g:md)P~t">fila</field></block></value><value name="B"><shadow type="math_number" id=";`9Ls=;lU`(dU$K/iYut"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="W@W%)KtP2-yB3U(Ba2r,"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field><value name="VALUE"><shadow type="math_number" id="fxQ%21D_64[F(`.*1x;m"><field name="NUM">0</field></shadow><block type="logic_boolean" id="{);I!SUQ)}xPv.M14v#:"><field name="BOOL">TRUE</field></block></value></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="T{ubvL8~}E(W$#|0WK$l"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="aAlM6-6:==KTXs(sb]2j"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="|yLiS9t~|Sn7Tq4pJ^1~"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="idN$FY;BajoV?#rY[=FQ"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="-X2gl@BY7iCfGvlk([*F"><field name="NUM">0</field></shadow><block type="variables_get" id="gyNfYtXY@~M[x53/L#U6"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="CSPs:Bn5d0d7vIUP}3fw"><field name="NUM">0</field></shadow><block type="text" id="e]`;m=%x1a:xDdFU:yM-"><field name="TEXT">izquierda</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="O;OPQ[_n;cN14Sfn4;]M"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="OcBwibe[`(mZHK0!Dw|0"><field name="VAR" id="`y+pivcpM?aCDaR8Cfc?">izq</field></block></value></block></value><statement name="DO2"><block type="mapsettileat" id="s%PFUd0b2KB#Ao51[.Fe"><value name="tile"><shadow type="tileset_tile_picker" id="Kk%RHhko|ICtP@Jw4w5@"><field name="tile">assets.tile`cofre_arriba`</field></shadow></value><value name="loc"><shadow type="mapgettile" id=":~FC0ky|UM}O=|Q;Mmb|"></shadow><block type="mapgettile" id="q[o|bcy|_L17I;vrC@0M"><value name="col"><block type="math_arithmetic" id="ItlLtMpmw|=sxt_Z}`9V"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="iWH$6!CllzcsGiDHzDeY"><field name="NUM">0</field></shadow><block type="variables_get" id="{alXz_!6T`FCdUcD|Znd"><field name="VAR" id="SSG*08,dBtOfzVb#,VM!">col</field></block></value><value name="B"><shadow type="math_number" id="!Ojv,g-%N(r%PE7gIk5s"><field name="NUM">1</field></shadow></value></block></value><value name="row"><block type="variables_get" id="H_dvFJ,GgA1z!8Ek=Wdw"><field name="VAR" id=")SJ;$/|aO1s)g:md)P~t">fila</field></block></value></block></value><next><block type="variables_set" id="0.7oSBUx-sp|Qj-%p2XV"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field><value name="VALUE"><shadow type="math_number" id="@CHiZ]{4e)j/YqVOp,[l"><field name="NUM">0</field></shadow><block type="logic_boolean" id=";c.D_,$(_ee%8K}_,#_t"><field name="BOOL">TRUE</field></block></value></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="L[bhd:}h|%A^tI*0e$L!"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="er_mrYM,=|!TC+M*(K^j"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="jLIV^8h=i^#NhBSvmn1H"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="*}N`?]^),+pd_J(F`bQq"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="_he3gUM+G_c2w-u%Y%}f"><field name="NUM">0</field></shadow><block type="variables_get" id="o[UaVRpu;aJ+wNyqq7u1"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="#RjPG(O1l1r)9EjiA%ei"><field name="NUM">0</field></shadow><block type="text" id="=]bK3Me.INvjw.@Y`0p`"><field name="TEXT">derecha</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="#$)UcF|=r9h=BGAGkNPQ"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="eRFz#L?}}x~Bnb@4Fl%w"><field name="VAR" id="kK,L$GRd~7EUi{}q9,@}">der</field></block></value></block></value><statement name="DO3"><block type="mapsettileat" id="4`Y(t)[ov*)hf#.1I])j"><value name="tile"><shadow type="tileset_tile_picker" id="Xj7hl6~M,l?-kbEmf*Qs"><field name="tile">assets.tile`cofre_arriba`</field></shadow></value><value name="loc"><shadow type="mapgettile" id="3c:I?L8l6i@8lrp!#$I9"></shadow><block type="mapgettile" id="R)HQ|uWW/Znrrd,,kf|6"><value name="col"><block type="math_arithmetic" id="hoBckbXpqW,e997])}eb"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="B3O%kg|pj,Pj.;irP@`r"><field name="NUM">0</field></shadow><block type="variables_get" id="nX9AF$~=(7N{=AKOV*~x"><field name="VAR" id="SSG*08,dBtOfzVb#,VM!">col</field></block></value><value name="B"><shadow type="math_number" id="w~cqKGp~kMp5Q~;l4-o6"><field name="NUM">1</field></shadow></value></block></value><value name="row"><block type="variables_get" id="83e/9+_j=Qek56ADt{JH"><field name="VAR" id=")SJ;$/|aO1s)g:md)P~t">fila</field></block></value></block></value><next><block type="variables_set" id="W5ZoBW[Fu$s6)I[}k5i$"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field><value name="VALUE"><shadow type="math_number" id="gpNw8cRDS-E$Wur.W^@1"><field name="NUM">0</field></shadow><block type="logic_boolean" id="2(iF!8o/JR.^^*a2xAW6"><field name="BOOL">TRUE</field></block></value></block></next></block></statement><next><block type="controls_if" id="InoyRHiNIcct;]I6hp9J"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id=".B:iczqiE;#tGFp`;P(l"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="`EgS+7`B)1m_x,KOWZND"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field></block></value><statement name="DO0"><block type="variables_change" id="I5e-l*K~1+S|bv@8H!@C"><field name="VAR" id="kJGj;bT5KBV#u{y8w!9!">municion_actual</field><value name="VALUE"><shadow type="math_number" id="r}I[dic1sz36.qn!Z6sH"><field name="NUM">30</field></shadow></value><next><block type="gameSplash" id="r%=tVDzlG_apUetbKgIi"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="84[**3lFMk0Xal=-NYoG"><field name="TEXT">Cofre abierto!</field></shadow></value><value name="subtitle"><shadow type="text" id="A4$n(Ah{plswfB3[q7%z"><field name="TEXT">+30 municion</field></shadow></value><next><block type="variables_set" id="kd;bdGmcs*6;#u/Cu*bQ"><field name="VAR" id="3ST!.Ot.v9fFyiB}kvW!">cofre_abierto</field><value name="VALUE"><shadow type="math_number" id="]a(R(cV:Za{]c{iF6F57"><field name="NUM">0</field></shadow><block type="logic_boolean" id="38oV3vx4,o}t,p}S)cL)"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></statement><statement name="ELSE"><block type="gameSplash" id="CuV#vM`PTfr|Yl#0%L]d"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="title"><shadow type="text" id="kwBc}x$WZ-u$@h?3Qzat"><field name="TEXT">No hay cofre</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="2tL-2XQs$s^@zN{hXunT" x="6811" y="2489"><mutation name="crear_npcs_especiales" functionid="Mzscv`y!VuX6485Fhj09"></mutation><field name="function_name">crear_npcs_especiales</field><statement name="STACK"><block type="variables_set" id="b|+pu/U$N?$wc/R`E6H_"><field name="VAR" id="2umOs!g%B22COd4CH2*b">npc1</field><comment pinned="false" h="80" w="160">Instancia los NPCs de habilidades en coordenadas fijas del mapa
ZONA 1 – CURANDERO</comment><value name="VALUE"><shadow type="math_number" id="]++A8D7Pl;|L|BE;aV?1"><field name="NUM">0</field></shadow><block type="spritescreate" id="oNM2k1NxemH+@Bv$L],L"><value name="img"><shadow type="screen_image_picker" id=")^;VO0^k:6}i!KsLS,W8"><field name="img">assets.image`npc_healer`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image21"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="Ihg[S8Z+y-,Ic.0S!XC_"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="u4A]*DC8yH8lTPpr-6.;"><field name="EXPRESSION">SpriteKind.NPC1</field></block></value></block></value><next><block type="mapplaceontile" id="-jFymVIBJ|@^14O?w$A~"><value name="sprite"><block type="variables_get" id=":_Y.$Bf(NS?VWKe|Ve3["><field name="VAR" id="2umOs!g%B22COd4CH2*b">npc1</field></block></value><value name="loc"><shadow type="mapgettile" id="9yVe`/Vr5T!wJ5lbN^Z-"><value name="col"><shadow type="math_number" id="3Ot[L(=v%(XnM-QG#A6."><field name="NUM">29</field></shadow></value><value name="row"><shadow type="math_number" id="Yo-E!*EMWq1YS.o]Tg50"><field name="NUM">35</field></shadow></value></shadow></value><next><block type="variables_set" id="cDL%aY#~_{-8ciu[krUR"><field name="VAR" id="Xxhr*R7@Co3fq(lY=g51">npc2</field><comment pinned="false" h="80" w="160">ZONA 2 – VELOCIDAD</comment><value name="VALUE"><shadow type="math_number" id=".XQZ6t;9;U~+k=}k~G56"><field name="NUM">0</field></shadow><block type="spritescreate" id="3_fD;q+}h(-`HpmNpoT{"><value name="img"><shadow type="screen_image_picker" id="]$O.k9|)MxC|mUHn|m}."><field name="img">assets.image`npc_runner`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image20"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="k)NT,3@%}-vQARR~Jov9"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="Ovg{OciY$R6ev4Hojl?M"><field name="EXPRESSION">SpriteKind.NPC2</field></block></value></block></value><next><block type="mapplaceontile" id="4B~)-?UeaJ:2q0:KP!!5"><value name="sprite"><block type="variables_get" id="4uI|1}f_F@mrA.8+u:qk"><field name="VAR" id="Xxhr*R7@Co3fq(lY=g51">npc2</field></block></value><value name="loc"><shadow type="mapgettile" id="e~mizCi8Kk|qbt:.J0p0"><value name="col"><shadow type="math_number" id="GO94WX7M:YBORcI-{BUq"><field name="NUM">84</field></shadow></value><value name="row"><shadow type="math_number" id="4MicV9s^dCdtjc/zK1R("><field name="NUM">92</field></shadow></value></shadow></value><next><block type="variables_set" id="63oOY+wnsvY(Uc*/OAH/"><field name="VAR" id="HxU#T=+XazrfpIpB9u+e">npc3</field><comment pinned="false" h="80" w="160">ZONA 3 – MUNICIÓN</comment><value name="VALUE"><shadow type="math_number" id="f+)=(V)hk,)2JP@wZQW`"><field name="NUM">0</field></shadow><block type="spritescreate" id="0n9%m}n|M![drxOx1{`E"><value name="img"><shadow type="screen_image_picker" id=":;Ncr4-TzIF#S-S7[f}V"><field name="img">assets.image`npc_ammo`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image16"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="~UNmTg]#59sZ.JELEyou"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="tXh*epIXjlXKsd|)PfvE"><field name="EXPRESSION">SpriteKind.NPC3</field></block></value></block></value><next><block type="mapplaceontile" id="}/2#Kq?e%hgK{!}G6vS2"><value name="sprite"><block type="variables_get" id="25U|Di(4l5-rm{W*.u{#"><field name="VAR" id="HxU#T=+XazrfpIpB9u+e">npc3</field></block></value><value name="loc"><shadow type="mapgettile" id="!Y6)G1Heo=lI/cM40baz"><value name="col"><shadow type="math_number" id="pxSa~d_LYLwLfp*Jw@]P"><field name="NUM">65</field></shadow></value><value name="row"><shadow type="math_number" id="[(jq*zeSo^YLCJrVNvqh"><field name="NUM">21</field></shadow></value></shadow></value><next><block type="variables_set" id=";(8VFSi{i9Ja.(7#P8%}"><field name="VAR" id=";y{3=W[s.+kpsfUNZ8.o">npc4</field><comment pinned="false" h="80" w="160">ZONA 4 – ESCUDO</comment><value name="VALUE"><shadow type="math_number" id="zG1ZJjkWN_USx4*KE_Ii"><field name="NUM">0</field></shadow><block type="spritescreate" id="rXw8dzP,ZVO5Zz3T.6j4"><value name="img"><shadow type="screen_image_picker" id="B]S8keB:Wb?|Jod*8P0Z"><field name="img">assets.image`npc_shield`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image22"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id=".|_(8GPL0m^DLzB~eCAV"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="Vb-/R+!o|!EU?p/PBNm}"><field name="EXPRESSION">SpriteKind.NPC4</field></block></value></block></value><next><block type="mapplaceontile" id="FsU*QwC~2*T;=PTFv]Ni"><value name="sprite"><block type="variables_get" id="LhjW_KiaImdygpd?dXXn"><field name="VAR" id=";y{3=W[s.+kpsfUNZ8.o">npc4</field></block></value><value name="loc"><shadow type="mapgettile" id="}$tHNPN@}e2si+Zug4J4"><value name="col"><shadow type="math_number" id="9qDs;E-H$~tEuAgTd=Ri"><field name="NUM">99</field></shadow></value><value name="row"><shadow type="math_number" id="g=!I[6==o7rEl1T{S-}{"><field name="NUM">10</field></shadow></value></shadow></value><next><block type="variables_set" id="2b`KNUlRwZ/|iy%zIlhd"><field name="VAR" id="m]APoE.UOQT|Y08`StvL">npc5</field><comment pinned="false" h="80" w="160">ZONA 5 – DOBLE DISPARO</comment><value name="VALUE"><shadow type="math_number" id="9GIS|!0/fYOiMI]NuaAx"><field name="NUM">0</field></shadow><block type="spritescreate" id="YzdeqyrW*7~t2GPSyy{w"><value name="img"><shadow type="screen_image_picker" id="(sLU}XzR=u(-W-Xj;uBN"><field name="img">assets.image`npc_fire`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image19"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="xrzR[kI-ADE}?(G1a`bx"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="@NxM=/,iw9_n=3^L|?{#"><field name="EXPRESSION">SpriteKind.NPC5</field></block></value></block></value><next><block type="mapplaceontile" id="MzpSCVLE,0^_Ci;/,;X|"><value name="sprite"><block type="variables_get" id="y+Zlq4x?y8]9K!1WI`bu"><field name="VAR" id="m]APoE.UOQT|Y08`StvL">npc5</field></block></value><value name="loc"><shadow type="mapgettile" id="65#h$%w/ctvgsqzG?#ub"><value name="col"><shadow type="math_number" id="E1e~Cm`}fO,l:s}wn@mu"><field name="NUM">46</field></shadow></value><value name="row"><shadow type="math_number" id="SjbWJ{cYJo5F{``t4vEc"><field name="NUM">102</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="/{1S}!9$q4y|b3#,USQg" x="20" y="4170"><mutation name="habilidad_curacion" functionid="iq}BaqkYVBzrfq~1IR?C"></mutation><field name="function_name">habilidad_curacion</field><statement name="STACK"><block type="hudChangeLifeBy" id="c]dCgS?e]Zlx%^/qM$Ks"><value name="value"><shadow type="math_number" id="?V|s-Y;B*5w71n$yC^EK"><field name="NUM">20</field></shadow></value><next><block type="gameSplash" id="W#MRU.uo2tHDGot*iE},"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="Ym@0+4).%kQ{!Cd5fBjf"><field name="TEXT">NPC Curandero</field></shadow></value><value name="subtitle"><shadow type="text" id="dr8^7TiA?gp-Fc[Z)E8z"><field name="TEXT">+20 vida</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="})jdlSs+gi!hYcuv%xoV" x="480" y="4170"><mutation name="habilidad_escudo" functionid="PO8Dim4o|6Uxx2S:p(PR"></mutation><field name="function_name">habilidad_escudo</field><statement name="STACK"><block type="variables_set" id="[@-S%Y+AhO^1DAvbkgvi"><field name="VAR" id="AyJP2=,eTaF?9DZ21$jR">tiene_escudo</field><comment pinned="false" h="80" w="160">Activa el estado de invulnerabilidad para el siguiente golpe recibido</comment><value name="VALUE"><shadow type="math_number" id="eLCGYh]Wp))/K-Ise@5x"><field name="NUM">0</field></shadow><block type="logic_boolean" id="qD!#|395Q6YqPu0:#-8d"><field name="BOOL">TRUE</field></block></value><next><block type="gameSplash" id="(mv]Aw/[[VO0Xh*wp5C3"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="D7VN}%JnTu?-H@)4JN)q"><field name="TEXT">NPC Escudo</field></shadow></value><value name="subtitle"><shadow type="text" id="aF9p_#s??~X~iDXpD1N}"><field name="TEXT">¡Resistes 1 golpe sin daño!</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="v)~9V}cZ}Vpbz2TcaU1q" x="1094" y="4170"><mutation name="habilidad_fire_rate" functionid="%yD4[93!1I$,]+UXJPqf"></mutation><field name="function_name">habilidad_fire_rate</field><statement name="STACK"><block type="variables_set" id="75|essURH1Y2@[?qv!{t"><field name="VAR" id="aSE:sm!Yo_nOlBkg9MnL">fire_rate_boost</field><value name="VALUE"><shadow type="math_number" id="vWfQz^|cFBY)^zD^7p?p"><field name="NUM">0</field></shadow><block type="logic_boolean" id="}7v8=s?At+5j%uwGFG/l"><field name="BOOL">TRUE</field></block></value><next><block type="gameSplash" id="9n`U6c-/cA)44d+UDec,"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="title"><shadow type="text" id="),mbe0-Qm(`invzgm.bo"><field name="TEXT">NPC Maestro del disparo</field></shadow></value><value name="subtitle"><shadow type="text" id="01dzgjEZ0rC5jSS.Ly78"><field name="TEXT">¡Disparo doble por 10s!</field></shadow></value><next><block type="device_pause" id="jd)l!)e;K`aZdux^1/r9"><value name="pause"><shadow type="timePicker" id="/3_[/6ALe2@2Z-)EZnqT"><field name="ms">10000</field></shadow></value><next><block type="variables_set" id="Opi0-2ze4wa4C@uCd9J@"><field name="VAR" id="aSE:sm!Yo_nOlBkg9MnL">fire_rate_boost</field><value name="VALUE"><shadow type="math_number" id="zhR?TrMY1/v~4-P~n!0#"><field name="NUM">0</field></shadow><block type="logic_boolean" id="baxb)Wm=v[kl./N#tH-M"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="6D50@PO87t]xymU;_NcN" x="1794" y="4170"><mutation name="activar_npc" functionid="cdZi^gy1p+0U!RF0P`jh"><arg name="sprite" id="oa843by426cjmu5tzkf4l" type="Sprite"></arg><arg name="npc" id="gl34voled7gel5co9geie" type="Sprite"></arg></mutation><field name="function_name">activar_npc</field><value name="oa843by426cjmu5tzkf4l"><block type="argument_reporter_custom" id="w2V^oCbm^:-h[kGlrFk`"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="gl34voled7gel5co9geie"><block type="argument_reporter_custom" id="gLmW:Lq`Z^hk=V-Z8Y{z"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">npc</field></block></value><statement name="STACK"><block type="variables_set" id="MRx1InSsMQudU%46I1vo"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field><comment pinned="false" h="80" w="160">Router de colisiones con NPCs aliados.
Identifica el tipo de NPC y ejecuta la función de mejora correspondiente.</comment><value name="VALUE"><shadow type="math_number" id="INeZ_cVTL4/=kz`6zlY)"><field name="NUM">0</field></shadow><block type="spritegetkind" id="nDIG?9MX+Lj?32blNbsG"><value name="sprite"><block type="argument_reporter_custom" id="Md|azP(qE+=_fouNln0]"><mutation typename="Sprite"></mutation><field name="VALUE">npc</field></block></value></block></value><next><block type="controls_if" id="!8f[oC={T/:2*k$d4{hT"><mutation elseif="4"></mutation><value name="IF0"><shadow type="logic_boolean" id="3}g3GJ^vGI5w1bu5Ftt["><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="ts8^PL%:wrM@*Ir$x?4|"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="m?Y4?to07P)+krMq#G.3"><field name="NUM">0</field></shadow><block type="variables_get" id="8n:}k7=3WD/jHbcZc}a6"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field></block></value><value name="B"><shadow type="math_number" id="n%G]J,j/[!g`j-7O]6aO"><field name="NUM">0</field></shadow><block type="typescript_expression" id="3)DQKTT?O21-j,?AhJbm"><field name="EXPRESSION">SpriteKind.NPC1</field></block></value></block></value><statement name="DO0"><block type="function_call" id="nu{BWct~2j^?^.m*?;/l"><mutation name="habilidad_curacion" functionid="iq}BaqkYVBzrfq~1IR?C"></mutation></block></statement><value name="IF1"><shadow type="logic_boolean" id="~p({7-c@:}]%a11VO8k1"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Jd?ccr:9-1.K2|ISe1{n"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="4]Bst#sEs38Br#`c}3yz"><field name="NUM">0</field></shadow><block type="variables_get" id="]gngfS_-+8yK**X|3-;w"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field></block></value><value name="B"><shadow type="math_number" id="lr)(g9TM:2/4/Q(9Qr(~"><field name="NUM">0</field></shadow><block type="typescript_expression" id="D27l.3,xR~!EH~mt;(Eu"><field name="EXPRESSION">SpriteKind.NPC2</field></block></value></block></value><statement name="DO1"><block type="function_call" id="^]mGqeB0RN?Jkx8ax4/b"><mutation name="habilidad_velocidad" functionid="ZmNOBJqNC`)4Fo,s61~8"></mutation></block></statement><value name="IF2"><shadow type="logic_boolean" id="c7G:EJU@]c%CMbBOeOW)"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="2FLns,EmGa)ov@iW53?r"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="WgG}h1+Nnn(kDl=@@5s)"><field name="NUM">0</field></shadow><block type="variables_get" id="b9=2Vj7S=fTau`Y/9^mk"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field></block></value><value name="B"><shadow type="math_number" id="5~N-(J)W]m#cI|Ft/z+`"><field name="NUM">0</field></shadow><block type="typescript_expression" id="(OOu|{F2{CC}SUT7D0j1"><field name="EXPRESSION">SpriteKind.NPC3</field></block></value></block></value><statement name="DO2"><block type="function_call" id="s*^UKUZ5.$a)lMq|{0T6"><mutation name="habilidad_municion" functionid="*l_+T-zX1Lod?jrUPD8Y"></mutation></block></statement><value name="IF3"><shadow type="logic_boolean" id="hUq6aXHG.jhVSERp%pZ0"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="uEifa|MSbX)nMlPnuhzM"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="wkx|IIaJja3A}wpusSQx"><field name="NUM">0</field></shadow><block type="variables_get" id="7MlYD4eF13d+IUrDoo8Y"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field></block></value><value name="B"><shadow type="math_number" id="GUHaocZbGZILv}a$`=L1"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Ed^DA?]7cjGq(6d/X/5s"><field name="EXPRESSION">SpriteKind.NPC4</field></block></value></block></value><statement name="DO3"><block type="function_call" id="TM8;LEL_mrjTGu.XmFNH"><mutation name="habilidad_escudo" functionid="PO8Dim4o|6Uxx2S:p(PR"></mutation></block></statement><value name="IF4"><shadow type="logic_boolean" id="pzp%R0!wZY$ezOd2s}_d"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="~BC4~DrEcMZn,YWNfK$`"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="^_x.fEUrH}TCc[I3a4#;"><field name="NUM">0</field></shadow><block type="variables_get" id="W$ffa5!|+1?0{)6[zNwq"><field name="VAR" id="U3;D/cb0F6:|2|~l4dZ]">tipo</field></block></value><value name="B"><shadow type="math_number" id="u1).7(U!HM}@-*xPh$O{"><field name="NUM">0</field></shadow><block type="typescript_expression" id="3L@ybVui_nd7J}Tn}z#{"><field name="EXPRESSION">SpriteKind.NPC5</field></block></value></block></value><statement name="DO4"><block type="function_call" id="+L]9ZB-8r0B*B=0TAquk"><mutation name="habilidad_fire_rate" functionid="%yD4[93!1I$,]+UXJPqf"></mutation></block></statement><next><block type="spritedestroy" id="v@[ys8P~gek4,T-nw$bc"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><field name="effect">effects.smiles</field><value name="sprite"><block type="argument_reporter_custom" id="z6U(~seUfGeVCu-9|AJH"><mutation typename="Sprite"></mutation><field name="VALUE">npc</field></block></value><value name="duration"><shadow type="timePicker" id="g=~f9QSo=]y|Wr^8)wLg"><field name="ms">300</field></shadow></value></block></next></block></next></block></statement></block><block type="function_definition" id="!8Z=8e$Lhc,%8R,g,u]T" x="2505" y="4170"><mutation name="disparar" functionid="pcDx~hJAij2Z@:%Xe_$e"></mutation><field name="function_name">disparar</field><statement name="STACK"><block type="typescript_statement" id="}M)4ktUr8:qTXWWnE)|d"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let proyectil: Sprite;" numlines="1" declaredvars="proyectil"></mutation><next><block type="controls_if" id="tcQXA]~5RZ4|*Mf:wF*Y"><comment pinned="false" h="80" w="160">Lógica de creación de proyectiles del jugador.
Asigna velocidad vectorial basándose en la última dirección de movimiento registrada.</comment><value name="IF0"><shadow type="logic_boolean" id="u+y6jAf1^1:,o2_;V_X!"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@8(~ZZXf|r#u4@tW]C67"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="SA8-nrKg^T{%:AJXn})t"><field name="NUM">0</field></shadow><block type="variables_get" id="psyc:Z+H%Zbp=Laa#G?5"><field name="VAR" id="kJGj;bT5KBV#u{y8w!9!">municion_actual</field></block></value><value name="B"><shadow type="math_number" id="gdybV${(3-C6WkOaBL@="><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_change" id="1Gs|J}~]Gp0O4|$K1:`="><field name="VAR" id="kJGj;bT5KBV#u{y8w!9!">municion_actual</field><value name="VALUE"><shadow type="math_number" id="I+xwEhDx%+#[)us6[/i("><field name="NUM">-1</field></shadow></value><next><block type="variables_set" id="jX8ws^3W6P`v?)USW,UL"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field><value name="VALUE"><shadow type="math_number" id="*W#}ViYXFr*/GIjgk+-,"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="|Ueiulnm|TGwkpq;2{Re"><value name="img"><shadow type="screen_image_picker" id="vZ#%`lfRJ-^F1w[khtI4"><field name="img">assets.image`proyectil1`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image4"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="Hw|]/s74pD37#Wky(s30"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="0vUaSBAR7#PL01NeZ2M@"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="50|0V+rkF+Pq,Vh@Q-%J"><field name="speed">0</field></shadow></value></block></value><next><block type="controls_if" id="A!hVoVj8Gq4CR/GHudSy"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="/oKXHz8t#A63Ja:c^Lyf"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="]2gOM^cT6t~GLG,z,OwU"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="PJnJ%fR/r|vbI]kyw+k8"><field name="NUM">0</field></shadow><block type="variables_get" id="EK1^5hOa#@nq{XIOhf({"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="K`x2~IU]x:yX+wTDg5q7"><field name="NUM">0</field></shadow><block type="text" id="dskf1rNu.~Q(tx+Q$GT_"><field name="TEXT">arriba</field></block></value></block></value><statement name="DO0"><block type="spritesetvel" id="Z*R4;_MmGb}G{xaJEg?m"><value name="sprite"><block type="variables_get" id="-:!I729mUu0RCX|04Ida"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="1f=~llk6Km^(Rf2=v~?B"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id=".XCeY-?94pn6Vv0:eOv!"><field name="speed">-150</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="MlL,sGSZ,rB3~?rXWb,0"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="cDC;+8rG0hKgy?O{KA1U"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="(y}3#M?h=K3)(VSi7FF`"><field name="NUM">0</field></shadow><block type="variables_get" id="a5.hFg,Cibeou*|t[P=J"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="Aqw*6v@Gw|_z0N?f(q~G"><field name="NUM">0</field></shadow><block type="text" id="ijH2o217!A./I=FM|[`W"><field name="TEXT">abajo</field></block></value></block></value><statement name="DO1"><block type="spritesetvel" id="/l:?XtK0+6HyB+H{]m7*"><value name="sprite"><block type="variables_get" id="raylV:h*P}~39J8UL@oa"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="z$6T2%h1)@O-+Hm-]E=_"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="YW`Sh~rP~[Gg|egYP/SN"><field name="speed">150</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="8EGirgFlKb@T*?GNH$Jx"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="k5oxdoye.;xf|7L|7Y@)"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="rTp~y|G_^j23Y+fkAE27"><field name="NUM">0</field></shadow><block type="variables_get" id="o430Rnp]S3}Eu-+O*vPh"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="q35`-d6poSQ8-RC=genH"><field name="NUM">0</field></shadow><block type="text" id="@k$}$a(Dd%ej;_+^IZ8}"><field name="TEXT">izquierda</field></block></value></block></value><statement name="DO2"><block type="spritesetvel" id="3TrbT5PL0J#{;i0KRlD="><value name="sprite"><block type="variables_get" id="6tfhzb`TX.xxyz)3pTnh"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="$b:9$p^e(247e1Ag+Nz^"><field name="speed">-150</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="|nKC^Ea)pe25URX#*/6N"><field name="speed">0</field></shadow></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="+[pE?yW1(gX74InEo=|$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="(@[Jh@Z5LDjU,wGsVB+_"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="QL)yAx`?~C`RF97M75{t"><field name="NUM">0</field></shadow><block type="variables_get" id="Yv~l3@pv1ez{UQ@p(iqA"><field name="VAR" id="s#iO0S!6Ee(c6uQCGC(c">ultima_direccion</field></block></value><value name="B"><shadow type="math_number" id="=`vZ*];uBT{sA~rwQF0b"><field name="NUM">0</field></shadow><block type="text" id="qC;CTZ7tg(QKTl1W*xz?"><field name="TEXT">derecha</field></block></value></block></value><statement name="DO3"><block type="spritesetvel" id="FnjGo{F=MfdjVO05m*0S"><value name="sprite"><block type="variables_get" id="6:9bVL]Xy)Zy?:#Mfsl8"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="7-)(O]{;Q{M]aZ(_LLO("><field name="speed">150</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="oV=H.s`*61G/s%Ur%O9|"><field name="speed">0</field></shadow></value></block></statement><next><block type="spritesetsetflag" id="L*@pXulI1V6vl,N2at8q"><field name="flag">SpriteFlag.AutoDestroy</field><value name="sprite"><block type="variables_get" id="+Nw9TE:o+zoX-Cz(;D!G"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="on"><shadow type="toggleOnOff" id="aq2Rejlu-)KrL#-w(O@F"><field name="on">true</field></shadow></value><next><block type="Sprite_blockCombine_set" id="5b.VhD`l=1$)B1es9=M7"><field name="property">Sprite.lifespan</field><value name="mySprite"><block type="variables_get" id="3m^*SUY@2b7v,%{4=95+"><field name="VAR" id="HBk[Jhvhf=iZ{1@c:T_K">proyectil</field></block></value><value name="value"><shadow type="math_number" id="yo98,O5zn;Lc-M]Gzge3"><field name="NUM">2000</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id="YONcVBE%S=yxmsCpUF+2" x="3379" y="4170"><mutation name="mostrar_menu" functionid="n8.jI[#SH3R?Yi9@QfAF"></mutation><field name="function_name">mostrar_menu</field><statement name="STACK"><block type="music_stop_all_sounds" id="ro9!eg*b%EFOt#;2[:j)"><comment pinned="false" h="80" w="160">Configuración inicial de la pantalla de título (Lobby).
Crea el cursor y un botón invisible con hitbox sólida para detectar clics.</comment><next><block type="synth_set_volume" id="C*U9PD9VPgylhlzCQ}@("><value name="volume"><shadow type="math_number_minmax" id="g~4euQprUFM~%9zF@89a"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">100</field></shadow></value><next><block type="music_playable_play" id="uwRn4q1^?;2JZ[^#1xi}"><field name="playbackMode">music.PlaybackMode.LoopingInBackground</field><value name="toPlay"><shadow type="music_melody_playable" id="](6/82|^Wc}3z2n8Y-bT"><field name="melody">music.baDing</field></shadow><block type="music_string_playable" id="`d[o1keFIN-vBlY~~m3s"><value name="melody"><shadow type="melody_editor" id="PK0BQ7VHJ?!rctcV%~!^"><field name="melody">"E B C5 A B G A F "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="4WeGm1$yk0P;+_(tIDi_"><mutation min="40" max="500" precision="0"></mutation><field name="SLIDER">120</field></shadow></value></block></value><next><block type="gamesetbackgroundimage" id="u!s(@M%5o/El@xm_9:k,"><value name="img"><shadow type="background_image_picker" id="^UO^/+EO~J./`^,xmL#V"><field name="img">assets.image`pantalla_inicial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image14"}}</data></shadow></value><next><block type="variables_set" id="g(t#S@ea@gxL(U0Sa/D{"><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field><value name="VALUE"><shadow type="math_number" id="q.X?xf[f|=7{}o:8Y2h:"><field name="NUM">0</field></shadow><block type="spritescreate" id="rWLG%.thd:x:7jN+@~*O"><value name="img"><shadow type="screen_image_picker" id="PFwAYE*ASnv}?KN?H0qz"><field name="img"></field></shadow><block type="image_create" id="@q.+p|N*w)To`8)gY[4L"><value name="width"><shadow type="math_number" id="|z^Z8Ix,KJ^PbC.Fb/D7"><field name="NUM">5</field></shadow></value><value name="height"><shadow type="math_number" id="GPVkImT:i7u2+iWEWYG{"><field name="NUM">5</field></shadow></value></block></value><value name="kind"><shadow type="spritekind" id=":5q6:Xya],B}bz|Z#h]l"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="-cEdUu45^keEeNNlZEz;"><field name="EXPRESSION">SpriteKind.Cursor</field></block></value></block></value><next><block type="Image_fill" id="]qw6^o4l#ZISf7nYBr:d"><value name="picture"><block type="spriteimage" id="k3AiM3j`.^xOb}Z63AW."><value name="sprite"><block type="variables_get" id=".Jkky;;g6.{d5~J}__`#"><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field></block></value></block></value><value name="c"><shadow type="colorindexpicker" id="La/ME9~6DVdLvPkBC#(Q"><field name="index">1</field></shadow></value><next><block type="spritesetsetflag" id="BG[%]/*wQYL4QdTNw5Uf"><field name="flag">SpriteFlag.StayInScreen</field><value name="sprite"><block type="variables_get" id=".Z9QXk4jSu|n2nfO5@P{"><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field></block></value><value name="on"><shadow type="toggleOnOff" id="@gpUQ?!Sw@bEyQ`Vk9GS"><field name="on">true</field></shadow></value><next><block type="game_control_sprite" id="+(FfmE2XAaja~,$JN5kg"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="VHtVaAhha|skpcNsm(yM"><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="M[?WfQ`;6+Tg0hfHnqOK"><field name="speed">150</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="5s%l[RUR5~?UCO$@MjF`"><field name="speed">150</field></shadow></value><next><block type="variables_set" id="D9lq%BE=Q2qOJjF(AlA0"><field name="VAR" id="orMAaf:B`rcpE/pAKGse">imagen_hitbox</field><value name="VALUE"><shadow type="math_number" id="hNX_b^x!shZfIfNBV0s_"><field name="NUM">0</field></shadow><block type="image_create" id="S~i~f{)sd3$S8EvMHXw-"><value name="width"><shadow type="math_number" id="9ogmqAU%s;tK63nedZhi"><field name="NUM">60</field></shadow></value><value name="height"><shadow type="math_number" id="IgyGC4A7o|uBzj2Yshhe"><field name="NUM">25</field></shadow></value></block></value><next><block type="Image_fill" id="X[qx.6|YZ3(rNhtwqMx!"><value name="picture"><block type="variables_get" id=",1}RJQ`nr#TM__WWtorT"><field name="VAR" id="orMAaf:B`rcpE/pAKGse">imagen_hitbox</field></block></value><value name="c"><shadow type="colorindexpicker" id="wsd5rs:YirC2N%+0o1na"><field name="index">3</field></shadow></value><next><block type="variables_set" id=",gYD3dx/Hi7lT~#U^9oM"><field name="VAR" id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</field><value name="VALUE"><shadow type="math_number" id="H8t|Lvg{7O^mGn8?`%j;"><field name="NUM">0</field></shadow><block type="spritescreate" id="S_DfC$$(7Z`|)muUP0[d"><value name="img"><shadow type="screen_image_picker" id="VYL/m2X7h9X}+Dr`:J;^"><field name="img"></field></shadow><block type="variables_get" id="!vooSy~B2q[8B*y5D!N3"><field name="VAR" id="orMAaf:B`rcpE/pAKGse">imagen_hitbox</field></block></value><value name="kind"><shadow type="spritekind" id="ena+u?Sn]3t}w?DqG|v@"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id=";#t*)ftFrh2~YaP%.)kL"><field name="EXPRESSION">SpriteKind.Boton</field></block></value></block></value><next><block type="spritesetpos" id="o4#LzO~S]xqj|]g?Xhz="><value name="sprite"><block type="variables_get" id="1;7W).`|@AGab^V%_{Bc"><field name="VAR" id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</field></block></value><value name="x"><shadow type="positionPicker" id="?cOb*.Ex?NAR,eM8B%PV"><field name="index">130</field></shadow></value><value name="y"><shadow type="positionPicker" id="5{u^;kmH*pJP+Z?=XJ|*"><field name="index">95</field></shadow></value><next><block type="spritesetsetflag" id="@l#~9MIzGqcAe0)PxlxC"><field name="flag">SpriteFlag.Invisible</field><value name="sprite"><block type="variables_get" id="1Vs1[S@kL(BWBQ):-kSY"><field name="VAR" id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</field></block></value><value name="on"><shadow type="toggleOnOff" id="tq%gN$7lt?cQZoP5fPxH"><field name="on">true</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Pp%jclFUrCFPT!|-3.i%" x="4341" y="4170"><mutation name="iniciar_partida" functionid="V{PG6NX;NW~4Y]G|+~8}"></mutation><field name="function_name">iniciar_partida</field><statement name="STACK"><block type="music_stop_all_sounds" id="X(DP!^y{V`Bv@D?~CIMe"><comment pinned="false" h="80" w="160">Inicialización del bucle principal del juego.
Resetea variables, carga el mapa, posiciona al jugador y arranca la música de batalla.</comment><next><block type="music_playable_play" id=".Fp75mwLC!QQbDZ%N$M3"><field name="playbackMode">music.PlaybackMode.LoopingInBackground</field><value name="toPlay"><shadow type="music_melody_playable" id=":4{2bn+l3yOmvJcv`}6t"><field name="melody">music.baDing</field></shadow><block type="music_string_playable" id="Va/jw4vz,kDjM-k173h0"><value name="melody"><shadow type="melody_editor" id="OjR5jt5Lwu0}wfrFMB%D"><field name="melody">"C5 A B G A F G E "</field></shadow></value><value name="tempo"><shadow type="math_number_minmax" id="kPn1o!@R#1@JWxB(f:eP"><mutation min="40" max="500" precision="0"></mutation><field name="SLIDER">160</field></shadow></value></block></value><next><block type="spritedestroy2" id="T2}xnnO+K^bsI;-,rDe6"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.spray</field><value name="sprite"><block type="variables_get" id="21TvoHtR#C}(|Cg|bomF"><field name="VAR" id="*C0;S#eKtx1y{H.SZ,y#">cursor</field></block></value><next><block type="spritedestroy2" id="OXNl0F-O|=b,jiF_E!f4"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="effect">effects.spray</field><value name="sprite"><block type="variables_get" id="Rdg24XXL~(E[;lP.:-cR"><field name="VAR" id="v=KLNB`r_/Pe^j)~|w.]">boton_jugar</field></block></value><next><block type="variables_set" id="Gc~5~vYXLjd5G5rl]eEF"><field name="VAR" id="kJGj;bT5KBV#u{y8w!9!">municion_actual</field><value name="VALUE"><shadow type="math_number" id="Xoe(BD[$^WE+b!cZDzcM"><field name="NUM">150</field></shadow></value><next><block type="variables_set" id="CzwRcA6RZ:-!5d(b{c84"><field name="VAR" id="2.j(Idauyj-(V^}W73wc">vida_jugador</field><value name="VALUE"><shadow type="math_number" id="N+}_^{`PiXBpb~,CCByj"><field name="NUM">100</field></shadow></value><next><block type="variables_set" id="1ew(i4}?t+0S!PY8q}95"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field><value name="VALUE"><shadow type="math_number" id="gvbMi5DT{nw5)qlL.0j)"><field name="NUM">0</field></shadow><block type="spritescreate" id="8]8%T}/.GO?.l/y6g6D%"><value name="img"><shadow type="screen_image_picker" id="PIjf=#JX]8N1N6,`cF/{"><field name="img">assets.image`personaje`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image2"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="iL+bAV~7rcE?LZP|b2_m"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="game_control_sprite" id="8;B{k(K^%x1XP@gI=N@3"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="2" _input_init="true"></mutation><comment pinned="false" h="80" w="160">Importante: activar movimiento del personaje aqui</comment><value name="sprite"><block type="variables_get" id="un`cVgmWe.E]9x[F8L9y"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id=";/uIwGI~-SJ+|=Xq3qGp"><field name="speed">100</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="_j5StsmnmU=JJ)u_}BSn"><field name="speed">100</field></shadow></value><next><block type="set_current_tilemap" id="Zt`n}m.~4(xqAIrawo1%"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="uXEUW|Q3u6=k@!KXUeno"><field name="tilemap">tilemap`mapa`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"level2"}}</data></shadow></value><next><block type="mapplaceonrandomtile" id="$gVoMC#fM+eU]R0GX[1Z"><value name="sprite"><block type="variables_get" id="qf565_M[etm1yb]a|nkf"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="s-EQFNFya@:fd7k%Z:Qs"><field name="tile">assets.tile`myTile6`</field></shadow></value><next><block type="hudsetScore" id="6oEJl7Zx2RyPoF=0)UAb"><value name="value"><shadow type="math_number" id="A|I|+kfJ0c!S*z!W1~H5"><field name="NUM">0</field></shadow></value><next><block type="hudSetLife" id="xO(ff$O9([cvT6^*gN/z"><value name="value"><block type="variables_get" id="BWqR~UKrB2#RPio4e#|E"><field name="VAR" id="2.j(Idauyj-(V^}W73wc">vida_jugador</field></block></value><next><block type="variables_set" id="W)6TP^P#(B4$LI%wU@qM"><field name="VAR" id="z,HDbHNps%rCNK%#K5^[">juego_iniciado</field><value name="VALUE"><shadow type="math_number" id="Q~Esc6SP:pZC%.ue7=c_"><field name="NUM">0</field></shadow><block type="logic_boolean" id="P-e3xQ*UWv/u**(0uLU9"><field name="BOOL">TRUE</field></block></value><next><block type="function_call" id="zZnQ~*3/1}cy|6Y}i;%l"><mutation name="crear_autobus" functionid="{Z3Z5b_,GOv})ZJ~A1)0"></mutation><next><block type="function_call" id="~{issV0ZQ9mIFSnE6ZUr"><mutation name="crear_npcs_especiales" functionid="Mzscv`y!VuX6485Fhj09"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="/$f[D^L%{VUktHP%=qOi" x="5142" y="4170"><mutation name="crear_autobus" functionid="{Z3Z5b_,GOv})ZJ~A1)0"></mutation><field name="function_name">crear_autobus</field><statement name="STACK"><block type="typescript_statement" id="(akF5i1:-ZUv+%_]JeB/"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x_inicio: number;" numlines="1" declaredvars="x_inicio"></mutation><next><block type="typescript_statement" id="pl#?rRv(]?,Z@D-bq!-i"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let velocidad_x: number;" numlines="1" declaredvars="velocidad_x"></mutation><next><block type="variables_set" id="VjnaR1t~6q`Lru}N-tSd"><field name="VAR" id="tkw@xhTP71oX33vH)Rj/">en_bus</field><comment pinned="false" h="80" w="160">Crea la entidad del autobús de batalla al inicio de la partida.
Usa el flag GHOST para atravesar paredes y se mueve automáticamente.</comment><value name="VALUE"><shadow type="math_number" id=".mlm`V(xw!5;5G0/wiIV"><field name="NUM">0</field></shadow><block type="logic_boolean" id="$+t=3+F8l@8Bv4B$/Q#["><field name="BOOL">TRUE</field></block></value><next><block type="variables_set" id="J]+4s`0KrHW{^=P`-,Mz"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field><value name="VALUE"><shadow type="math_number" id=".vz!eB+(^BmMT;Y7xd,h"><field name="NUM">0</field></shadow><block type="spritescreate" id="FKUl}b_R)4?5RKs=82%~"><value name="img"><shadow type="screen_image_picker" id="xF8KIX{FoWVR?lC9S1mb"><field name="img">assets.image`autobus`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image12"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="l{[7+d50zL(F%+_WeiJT"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="n!(7rx5A-alP_fG}(#%J"><field name="EXPRESSION">SpriteKind.Autobus</field></block></value></block></value><next><block type="spritesetsetflag" id=";)XZW%(G*$u@t+,rlCs2"><field name="flag">SpriteFlag.Ghost</field><value name="sprite"><block type="variables_get" id="?,s=z+%QxbdqFbQczBPL"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="on"><shadow type="toggleOnOff" id="Cl38ul@r~oin[|Y2DSmo"><field name="on">true</field></shadow></value><next><block type="spritesetsetflag" id="c)U%]MB}{`6{_tJ+.i#;"><field name="flag">SpriteFlag.StayInScreen</field><value name="sprite"><block type="variables_get" id="H;:=W^/DyF*Sq|L/W^~)"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="on"><shadow type="toggleOnOff" id="H_(y_*1@p_9oWz/~4VxM"><field name="on">false</field></shadow></value><next><block type="spritesetvel" id="boZoc4*FZPS4TM)U#yS."><value name="sprite"><block type="variables_get" id="vFzcIgeltFs)*R$!z_#+"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="=[.P8[Qj~C9~65ymQxNB"><field name="speed">65</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="l~TbICaj+[{oh~;Ekum-"><field name="speed">0</field></shadow></value><next><block type="controls_if" id="sGB1/G`uPQ/XEf5?8A;["><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="F-[Uo)$4AKTkPc(*bJVm"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="N;9DU})SAEUvi78+?jz|"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="6=KKp}n6-Wu$KlDJa(C@"><field name="NUM">0</field></shadow><block type="device_random" id="zw6eLt6Ah5;kJx+,I54l"><value name="min"><shadow type="math_number" id="Gkv[Jk`+#Ea;E,*7kt23"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="ODJf2sMyZvEbMDum0j/C"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="*3qN}@6`Md^1FAY{TN(."><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="JjV{_+g%XpH2hy]9%zri"><field name="VAR" id="XD#tb0`dZAU9tLj8|6W?">x_inicio</field><value name="VALUE"><shadow type="math_number" id="xBHk.!dj]M-1W.|}bYp`"><field name="NUM">-40</field></shadow></value><next><block type="variables_set" id="9~)8lr.$[mAjAA+_W$,I"><field name="VAR" id="r~ZwTQ)9jPOUl+jC=_e^">velocidad_x</field><value name="VALUE"><shadow type="math_number" id="k}cN4fg|Q]2[cm76[e4^"><field name="NUM">65</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="(TB}`z/ke9Iwhmjs%)Iw"><field name="VAR" id="XD#tb0`dZAU9tLj8|6W?">x_inicio</field><value name="VALUE"><shadow type="math_number" id="sRI-./}o1pYOUYdKQb60"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="[hk9D/99Hw%P]bgYzqL9"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="l#[mojYY2M.?VKC5D}kK"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="os}GMV_90)Wi`V/4l:f@"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="/mby~fa$e}*Leyw-3Kr*"><field name="NUM">114</field></shadow></value><value name="B"><shadow type="math_number" id="{rtf/1STB3WbV:*1|;uf"><field name="NUM">16</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="bF.y-Q|!g_2@S`Z26_Wl"><field name="NUM">40</field></shadow></value></block></value><next><block type="variables_set" id=".SoC,W]/AE]njVcLA=]3"><field name="VAR" id="r~ZwTQ)9jPOUl+jC=_e^">velocidad_x</field><value name="VALUE"><shadow type="math_number" id="nHS:w6~.t;%Q2t0-8)L,"><field name="NUM">-65</field></shadow></value></block></next></block></statement><next><block type="variables_set" id="8}nDnQ8$RJbWszWb0(C3"><field name="VAR" id="rR3$}avgy0yO;W:17TjI">y_inicio</field><value name="VALUE"><shadow type="math_number" id="8+Y@PQ_`s7,L|D?a`gSV"><field name="NUM">0</field></shadow><block type="device_random" id="l1f5KsJWskG8eLQR{Se,"><value name="min"><shadow type="math_number" id="tb|$X03-zA09mPtE6qae"><field name="NUM">20</field></shadow></value><value name="limit"><block type="math_arithmetic" id="XZKa)-;mSKjX_j5m?Mte"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=":63685hHc,;qB4FBn#d#"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="FF.blll=}MzUmF*-K6Ne"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="wW_98m[W].DYBjYm_r:i"><field name="NUM">114</field></shadow></value><value name="B"><shadow type="math_number" id="eE065p-+PlC4^F6-~s`p"><field name="NUM">16</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="T2qMOWrB_J2CI(/G,jal"><field name="NUM">20</field></shadow></value></block></value></block></value><next><block type="spritesetpos" id="Oqh)44NaCWX|LR,/2EL~"><value name="sprite"><block type="variables_get" id="Z1aT?Tgc*#e@``;Qok-$"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="x"><shadow type="positionPicker" id="cz#UZ6*3v=0gN2((P#wW"><field name="index">0</field></shadow><block type="variables_get" id="9u4+rd9yot(#9S(Mry]f"><field name="VAR" id="XD#tb0`dZAU9tLj8|6W?">x_inicio</field></block></value><value name="y"><shadow type="positionPicker" id="To?C#Wa,!AlA5P7Jl?3g"><field name="index">0</field></shadow><block type="variables_get" id="(1H2}Mv2h])tHZ6R`1Lo"><field name="VAR" id="rR3$}avgy0yO;W:17TjI">y_inicio</field></block></value><next><block type="spritesetvel" id="{2ys[PEc#{6IikRftk4S"><value name="sprite"><block type="variables_get" id="*,@94*WusV=f!{]@NG33"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="H.^-?:+o}C(nGB4}7t,#"><field name="speed">50</field></shadow><block type="variables_get" id=";kO3/N-R$Q2H0t%2r?sp"><field name="VAR" id="r~ZwTQ)9jPOUl+jC=_e^">velocidad_x</field></block></value><value name="vy"><shadow type="spriteSpeedPicker" id="sKK`Kuz1mt#QUGzmJC4j"><field name="speed">0</field></shadow></value><next><block type="camerafollow" id="UluY%#r}~}trwoU,Vsua"><value name="sprite"><block type="variables_get" id="-K0FN:CUE=Met2ZbMihz"><field name="VAR" id="_moz7ut;^Jq*}+Q$u#p[">autobus2</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="9Y;KGo^)X7~mfP7?_4^K" x="5957" y="4170"><mutation name="spawnear_npcs" functionid="sJ;iR{hU{}`GdUJo~n2U"></mutation><field name="function_name">spawnear_npcs</field><statement name="STACK"><block type="typescript_statement" id="D+cLbTG]JV,aY41neQPF"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let enemigo: Sprite;" numlines="1" declaredvars="enemigo"></mutation><next><block type="typescript_statement" id="#Zbz-b(qNe2`-0BCjH`Y"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let barra: StatusBarSprite;" numlines="1" declaredvars="barra"></mutation><next><block type="device_while" id="r7ozM_ZZi=+;mvrXj)6K"><comment pinned="false" h="80" w="160">Generación procedimental de enemigos en el mapa.
Se crean 3 grupos con estadísticas (Velocidad, IA, Vida) diferenciadas.
Grupo 1: Tanques (Mucha vida, lentos)</comment><value name="COND"><shadow type="logic_boolean" id="s#t3JNMOja(p^$GW$w6c"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="U[rUfqrDWaq//$U+]B[U"><field name="OP">LT</field><value name="A"><shadow type="math_number" id=",BH3XLn`~~!eHE7`ktYN"><field name="NUM">0</field></shadow><block type="variables_get" id="i,VEn!oY``eBa,2q8/|-"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field></block></value><value name="B"><shadow type="math_number" id="i}Jp/C2D))J%U6`9n+v?"><field name="NUM">5</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="8:7?z?lvt%lICYL?PAV?"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field><value name="VALUE"><shadow type="math_number" id="fuh4!qN:9MkwMA(k2Y3]"><field name="NUM">0</field></shadow><block type="spritescreate" id="8?LjuEp_r`hK;DK1(UMO"><value name="img"><shadow type="screen_image_picker" id="t@Z1IeQH#:n$],pXWp5o"><field name="img"></field></shadow><block type="variables_get" id="ns:O=%!fs/W~e71`NZxn"><field name="VAR" id="n7K;6{JDHzuy#X$#:{~m">img_enemigo1</field></block></value><value name="kind"><shadow type="spritekind" id="*k+KIBq7c)9M@z-KP)^3"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="mapplaceonrandomtile" id="Xd}!MxAEwF%IO-Uao$ju"><value name="sprite"><block type="variables_get" id="7O{d5ZSx(UZ]Ug6s7D[P"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="ChsJnb/T*Z.5RyYvXdJX"><field name="tile">assets.tile`myTile6`</field></shadow></value><next><block type="spriteFollowOtherSprite" id="b(VPOScV4R3]3{eerac?"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="{;jrz!^m#{]$8]iD9oc6"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="target"><block type="variables_get" id="kM;bCZsvY8-w^B/e}hu@"><field name="VAR" id="MiIx+utwR{QzD@rIMNVT">personaje</field></block></value><value name="speed"><shadow type="math_number" id="$?I|5H!I]e=6X%$5wvFc"><field name="NUM">40</field></shadow></value><next><block type="variables_set" id="Pt%tr76h^qT*1FBq/LB4"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field><value name="VALUE"><shadow type="math_number" id="+l;bwLuHlRghYDr27aK#"><field name="NUM">0</field></shadow><block type="statusbars_create" id="SV/0_?Z+)H{IF`39~39v"><value name="width"><shadow type="math_number" id="Btmwl?}w{aXo~T7n2F:T"><field name="NUM">20</field></shadow></value><value name="height"><shadow type="math_number" id="8]I(o)?/;Jq:+FVSQh^C"><field name="NUM">4</field></shadow></value><value name="kind"><shadow type="statusbars_kind" id="wV;cEKY+|+ZCA62wIy_A"><field name="MEMBER">EnemyHealth</field></shadow></value></block></value><next><block type="statusbars_attachToSprite" id="lVmG_i8f#M#[y(aj:((:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="Dw`/@-4],b8Dzf#quC^="><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="toFollow"><block type="variables_get" id="frm~Q3}Pj_k`@Uuuv.Nv"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="StatusBarSprite_blockCombine_set" id="9w3UR0?yeU`cY%k11LEt"><field name="property">StatusBarSprite.max@set</field><value name="statusbar"><block type="variables_get" id="hk]47G|F{eL2GZAFg#S["><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id="R?*xB!g]p|V.+au/Z;aK"><field name="NUM">100</field></shadow></value><next><block type="StatusBarSprite_blockCombine_set" id="VQLt3}TUDVkn9%yeR?ZO"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get" id="Wnf41yshU{S^2p3DtJ3E"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id="Op;xV%;bC7GaFR8.=k]6"><field name="NUM">100</field></shadow></value><next><block type="statusbars_setColor" id="GaDBye)xb=C5:-b:0fGq"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="1AT;4q)~WilEn1CMI@LW"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="fillColor"><shadow type="colorindexpicker" id="0A1olVq*:/glVcVGtk1{"><field name="index">7</field></shadow></value><value name="bkgdColor"><shadow type="colorindexpicker" id="F/g^]i|tN.o~oZ}wgxiJ"><field name="index">2</field></shadow></value><next><block type="array_push" id="AcZwflC~H8JKp4K5fVP,"><value name="list"><block type="variables_get" id="x/hVe-2gv(Kj36-xq1|e"><field name="VAR" id="%$2Bw58%;A:*BR-SE[9z">lista_npcs</field></block></value><value name="value"><block type="variables_get" id="Y@iZwje??(b_]cpzssFu"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="variables_change" id="m~]k;|BhK[ntb{yg6uir"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field><value name="VALUE"><shadow type="math_number" id="QEo{.,xE**0j.TfXnG1C"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="xT*-PF{]R8/drex])!Ir"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field><value name="VALUE"><shadow type="math_number" id="@}.Dg|vIex*{XSu:=L^t"><field name="NUM">0</field></shadow></value><next><block type="device_while" id="M)v*_8F#8).OB:AW$tMW"><comment pinned="false" h="80" w="160">Grupo 2: Snipers (Poca vida, daño alto)</comment><value name="COND"><shadow type="logic_boolean" id="H+qAIjF2rzRf,/`8Fk{n"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="5Xw4ZGUP*I.9{uhm,4G~"><field name="OP">LT</field><value name="A"><shadow type="math_number" id=")6w5XBKpcme8?:I=}+^!"><field name="NUM">0</field></shadow><block type="variables_get" id="*|4;xY~la$+=8[`BxcM`"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field></block></value><value name="B"><shadow type="math_number" id="C,XP}zV(yGq??@ghL|*I"><field name="NUM">5</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id="6xSQ/1K2]yD_V4fw$5+~"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field><value name="VALUE"><shadow type="math_number" id="myFr2BNtL^Ngv(4yUh@j"><field name="NUM">0</field></shadow><block type="spritescreate" id=")If[7Q1~UiC+0g7o/eAv"><value name="img"><shadow type="screen_image_picker" id="ttP#sAHh(;ly[n,kw!Q8"><field name="img"></field></shadow><block type="variables_get" id="J*]9~.e3ANCEmaCs;R!l"><field name="VAR" id="fGX?uI:ngImd4J$]Ft1C">img_enemigo2</field></block></value><value name="kind"><shadow type="spritekind" id="k(u5wLTNxhGB)2p(UKj`"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="mapplaceonrandomtile" id="B]wADW|3M`^H),ogF%uG"><value name="sprite"><block type="variables_get" id="9p{$9l^[7tJ64XJ|ir:."><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="=BtJK]|BjR)(!uuTh8F4"><field name="tile">assets.tile`myTile6`</field></shadow></value><next><block type="variables_set" id="],vk0FT}Ph!}+h)90TF_"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field><value name="VALUE"><shadow type="math_number" id="#7$}yjYfVktt3Ip4q#sV"><field name="NUM">0</field></shadow><block type="statusbars_create" id="iJ1LPbxPKi#j%#5jI,!)"><value name="width"><shadow type="math_number" id="deAAl+Gx.cpPYF!s?|Uw"><field name="NUM">20</field></shadow></value><value name="height"><shadow type="math_number" id="*Fi3MEv}7AZ=*f}E]Y|4"><field name="NUM">4</field></shadow></value><value name="kind"><shadow type="statusbars_kind" id="_qJ16V.}i8*_7].q{Euk"><field name="MEMBER">EnemyHealth</field></shadow></value></block></value><next><block type="statusbars_attachToSprite" id="=dUIHi`LrCxARHg.P-)D"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="2MEkfoI2FLuI~43VfU)^"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="toFollow"><block type="variables_get" id="=hp)aPRkO8}u#GF$r5p@"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="StatusBarSprite_blockCombine_set" id="ZqVHF/M:DsV(m9+2sYX6"><field name="property">StatusBarSprite.max@set</field><value name="statusbar"><block type="variables_get" id="]rVV7*XQIPyF!ovl8obl"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id="YBV1^#bvmXLOF;tXV3_}"><field name="NUM">40</field></shadow></value><next><block type="StatusBarSprite_blockCombine_set" id="///=qR89#;[%hUP;5+a*"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get" id="5IHkUDYV9SeYOd~l.rQu"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id="YEN=o3Ewh.uRaTAV%@2x"><field name="NUM">40</field></shadow></value><next><block type="statusbars_setColor" id="0x5q%w!v4RGx2}{q2)^r"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="Zh/:C/zdgu3[;.8IwRsO"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="fillColor"><shadow type="colorindexpicker" id="{mU/Z@MI0PXhS)C^a.^@"><field name="index">7</field></shadow></value><value name="bkgdColor"><shadow type="colorindexpicker" id="b%%`a|iLP9hb^7!cV#bd"><field name="index">2</field></shadow></value><next><block type="array_push" id="1$)OW,H(zxpN.EX](OTt"><value name="list"><block type="variables_get" id="mSNcZeA=KeQJcQCY$1`F"><field name="VAR" id="%$2Bw58%;A:*BR-SE[9z">lista_npcs</field></block></value><value name="value"><block type="variables_get" id="@l:=}ji$!=`Z1i7(}_OL"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="variables_change" id="A;O0nV,@)2~0#o|v+oD="><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field><value name="VALUE"><shadow type="math_number" id="]LHD-b^kSvU2_EZpP;gp"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="WE8?WG.pP]5b]whTQWBS"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field><value name="VALUE"><shadow type="math_number" id="t}]v-5^vV~F)^`S1!fv#"><field name="NUM">0</field></shadow></value><next><block type="device_while" id="E.t}3GKoEVfepV9,FV@P"><comment pinned="false" h="80" w="160">Grupo 3: Soldados (Balanceados, movimiento de rebote)</comment><value name="COND"><shadow type="logic_boolean" id="Zb#dME;J;hUot7mkgx@W"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="cVw7B:5V}=qL#WA$(pW9"><field name="OP">LT</field><value name="A"><shadow type="math_number" id=":0@!pY(%Mpy*e)@{R?h;"><field name="NUM">0</field></shadow><block type="variables_get" id="p-c)^xdXQE3Hcnt6]g#`"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field></block></value><value name="B"><shadow type="math_number" id="gg^sz0e]X`/C9zb2(b*8"><field name="NUM">5</field></shadow></value></block></value><statement name="DO"><block type="variables_set" id=";r(GvIrq5W)EA.n5Eh4P"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field><value name="VALUE"><shadow type="math_number" id="R44%nVP;xHHd^OOppV@/"><field name="NUM">0</field></shadow><block type="spritescreate" id="%!T}6~h`*|Pva/Rh.3-@"><value name="img"><shadow type="screen_image_picker" id="Q}?;pQXKLt@dc|C4=-g{"><field name="img"></field></shadow><block type="variables_get" id="M#bMsqpaFN%NTv1YiPA["><field name="VAR" id="-O2}3R3]lK^l4mtq_kzF">img_enemigo3</field></block></value><value name="kind"><shadow type="spritekind" id="mTaiWqt+(86CWptiil~w"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="mapplaceonrandomtile" id="`DAA7.}!Lgbj2u%bY=%U"><value name="sprite"><block type="variables_get" id="9maOiKaL_5.$-PL`u{;{"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="tile"><shadow type="tileset_tile_picker" id="I5Z:r~Kj^b-?Zhr5/(Vc"><field name="tile">assets.tile`myTile6`</field></shadow></value><next><block type="spritesetvel" id="t8Nfdi*yPir|PHi^iSJG"><value name="sprite"><block type="variables_get" id="[m;g*ARK?fO#/KBL0*H="><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="}TQ]EhTS)fnx3PM(/qg~"><field name="speed">50</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="~ZFK`L{WDkT)xX6ppK1q"><field name="speed">0</field></shadow></value><next><block type="spritesetsetbounceonwall" id="i:?Xx;i$_/~H5hmC9@5?"><value name="sprite"><block type="variables_get" id="G3W#0f]Jt#J()hD:^v/}"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><value name="on"><shadow type="toggleOnOff" id="#k,wN9qRRp.Zojoa3wGA"><field name="on">true</field></shadow></value><next><block type="variables_set" id="b$:bLfIJ:;4`?.bMFXNN"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field><value name="VALUE"><shadow type="math_number" id="?=7lP~#DR#5HaP@k0,.3"><field name="NUM">0</field></shadow><block type="statusbars_create" id="3M(nT9X(s~XI@:1|kUBy"><value name="width"><shadow type="math_number" id="u6;=gqE,K(M_VA@c=5E."><field name="NUM">20</field></shadow></value><value name="height"><shadow type="math_number" id="Vde:!nh!Y*`s+6Anhh0k"><field name="NUM">4</field></shadow></value><value name="kind"><shadow type="statusbars_kind" id="^S_hmDtMvo(KIv-vCY.4"><field name="MEMBER">EnemyHealth</field></shadow></value></block></value><next><block type="statusbars_attachToSprite" id="qQOI7JIbD:c7mo_xniqY"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="*0D3%zGajA$J5j=:t4Yx"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="toFollow"><block type="variables_get" id="k_?1%{tp/jZ[OUX`E2u,"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="StatusBarSprite_blockCombine_set" id="ebEiAOuGyxG;gmAC+A1["><field name="property">StatusBarSprite.max@set</field><value name="statusbar"><block type="variables_get" id="ZY8}#(YZjVEMFOl|j1!y"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id=",X}vO3/fw!9lC1M[;%VQ"><field name="NUM">60</field></shadow></value><next><block type="StatusBarSprite_blockCombine_set" id="O?q{Xl@aUHa6sx/QA,?l"><field name="property">StatusBarSprite.value@set</field><value name="statusbar"><block type="variables_get" id="ur./LeJZnPiQ;kIzEs?f"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="value"><shadow type="math_number" id="76CdEY5ZcM}_yMk2EM0_"><field name="NUM">60</field></shadow></value><next><block type="statusbars_setColor" id="az6,)BHd;r(B4~HC_-=;"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><block type="variables_get" id="HajW5~A57FK!-N#]Gp.m"><field name="VAR" id="dS.OxN]pGf@-flZ-3/Jn">barra</field></block></value><value name="fillColor"><shadow type="colorindexpicker" id="*s;`+*{5o0##jK#-wy:G"><field name="index">7</field></shadow></value><value name="bkgdColor"><shadow type="colorindexpicker" id="piZ(OmAl1).NJQJRg_O_"><field name="index">2</field></shadow></value><next><block type="array_push" id=";AiwD~m+KR?7A7-[P8Qd"><value name="list"><block type="variables_get" id="P@,sN}U?,9u+9z!;TYYY"><field name="VAR" id="%$2Bw58%;A:*BR-SE[9z">lista_npcs</field></block></value><value name="value"><block type="variables_get" id=":(^%hR87dv/aLZjqnRv7"><field name="VAR" id="EqULFTyuY~J^I%ZL87sw">enemigo</field></block></value><next><block type="variables_change" id="`fC{]Y,0f4-(}FC+3`zp"><field name="VAR" id="Xg)zPjVx}-xg#auFcH-P">i</field><value name="VALUE"><shadow type="math_number" id="8irP98Tm1VH2u:al+o@]"><field name="NUM">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="%ZI*N,`iEc9u7/O0,Drb"><field name="VAR" id="=IKPJJ(^6iY)jU~%jC`W">npcs_vivos</field><value name="VALUE"><shadow type="math_number" id="Ql@L1u|KscNX=su/pM(;"><field name="NUM">0</field></shadow><block type="lists_length" id=",uK2@!1XP9f}DmoDvqZg"><value name="VALUE"><block type="variables_get" id="okjdzbV(tCNLJ^v@HFq3"><field name="VAR" id="%$2Bw58%;A:*BR-SE[9z">lista_npcs</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>